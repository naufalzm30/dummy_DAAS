(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0359":function(t,e,a){},"0bf0":function(t,e,a){},"0d92":function(t,e,a){},"0ed1":function(t,e,a){t.exports=a.p+"img/upload.25cc5067.svg"},1353:function(t,e,a){t.exports=a.p+"img/detail.d95f161c.svg"},1380:function(t,e,a){t.exports=a.p+"img/logo-pdam2.504ef9e9.png"},1510:function(t,e,a){},1719:function(t,e,a){"use strict";a("cafc")},"1ba3":function(t,e,a){"use strict";a("3318")},"1f8e":function(t,e,a){"use strict";a("512d")},2058:function(t,e,a){t.exports=a.p+"img/box 1.3af19a8c.svg"},2154:function(t,e,a){"use strict";a("ed34")},2368:function(t,e,a){t.exports=a.p+"img/user.98f6f3e6.svg"},"2d93":function(t,e,a){},3318:function(t,e,a){},"34ba":function(t,e,a){"use strict";a("c3d7")},"355f":function(t,e,a){t.exports=a.p+"img/arr.cfe7a89b.svg"},"393f":function(t,e,a){},"39a4":function(t,e,a){"use strict";a("7229")},"45a7":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"512d":function(t,e,a){},"527b":function(t,e,a){"use strict";a("c800")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{padding:"0"}},[a("router-view")],1)},n=[],r={},o=r,l=(a("034f"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,null,null),d=c.exports,u=a("8c4f"),m=(a("d3b7"),a("e9c4"),a("2f62")),p=a("bc3a"),f=a.n(p),h=f.a.create({baseURL:"http://213.210.21.73:8001/api",imageURL:"https://pdamsby.blitztechnology.tech/"});s["a"].use(m["a"]);var v,g,b,_,y,C,x,w,S=new m["a"].Store({state:{accessToken:localStorage.getItem("access")||"",status:"",isLoggedIn:!1,loginTime:null,userStationList:[]},mutations:{updateStorage:function(t,e){var a=e.access;t.accessToken=a},destroyToken:function(t){t.accessToken=null},setUserStationList:function(t,e){t.userStationList=e}},getters:{isAuthenticated:function(t){return!!t.accessToken},authStatus:function(t){return t.status},loggedIn:function(t){return null!=t.accessToken},getUserStationList:function(t){return t.userStationList}},actions:{updateUserStationList:function(t,e){var a=t.commit;a("setUserStationList",e)},userLogin:function(t,e){return new Promise((function(a,s){h.post("/signin/",{username:e.username,password:e.password}).then((function(e){localStorage.setItem("access",e.data.tokens.access),localStorage.setItem("userRole",e.data.role.role_name),localStorage.setItem("user-info",JSON.stringify(e.data)),t.commit("updateStorage",{access:e.data.tokens}),t.state.loginTime=(new Date).getTime(),t.state.isLoggedIn=!0,a()})).catch((function(t){localStorage.removeItem("access"),s(t)}))}))},userLogout:function(t){t.state.isLoggedIn=!1,t.commit("destroyToken"),localStorage.removeItem("access"),localStorage.removeItem("user-info"),localStorage.removeItem("userRole"),Ls.push({name:"Home"}),location.reload()}}}),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mobile-width"},[a("Header"),t.loading_i?a("div",{staticClass:"center-container mt-2"},[t._m(0)]):a("div",[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.balai_name)+" ")]),a("Map"),a("Footer")],1)],1)},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-container"},[a("div",{staticClass:"icon-container"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem"}})]),a("p",{staticClass:"mt-3"},[t._v("Fetching data, please wait...")])])}],A=a("1da1"),z=(a("d81d"),a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"nav"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isMobileView,expression:"isMobileView"}],staticClass:"p-2",staticStyle:{background:"#68C0FF"}},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.isMobileView,expression:"isMobileView"}],staticClass:"toggle-button",on:{click:function(e){return t.toggleSidebar()}}},[a("span",{class:t.className}),a("span",{class:t.className}),a("span",{class:t.className})])]),t.isMobileView?a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobileView||t.sidebarOpen,expression:"!isMobileView || sidebarOpen"}],class:{sidebar:!0,"sidebar-open":t.sidebarOpen},staticStyle:{"z-index":"1000"},attrs:{id:"mySidebar"}},[a("ul",[a("li",{staticClass:"centered-image"},[a("img",{staticClass:"mobile-icon",staticStyle:{"max-width":"50px"},attrs:{src:t.logoPDAM}})]),"SuperAdmin"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("SADM")]):"Admin"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("ADM")]):"Guest"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("TAMU")]):"QA"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("QA")]):t._e(),"Admin"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v(t._s(this.user.balai.balai_name))]):t._e(),a("li",{staticClass:"my-1 mt-3"},[a("router-link",{staticClass:"active",staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Home",params:{balai_id:this.balai}},"aria-current":"page"}},[a("img",{staticClass:"mr-4",attrs:{src:t.dash_i}}),a("span",[t._v("Dashboard")])])],1),t.accessToken?a("li"):a("div",[a("li",{staticClass:"my-1"},[a("hr",{staticStyle:{color:"white"}}),a("router-link",{staticStyle:{display:"flex","flex-direction":"row","z-index":"100"},attrs:{to:{name:"Login",params:{balai_id:this.balai}}}},[a("img",{staticClass:"mr-4",attrs:{src:t.login_i}}),a("span",[t._v("Sign In")])])],1)]),t.accessToken?a("li",{staticClass:"nav-item my-1"},[a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Station",params:{balai_id:this.balai,user_id:t.user_id}}}},[a("img",{staticClass:"mr-4",attrs:{src:t.stat_i}}),a("span",[t._v("Station")])])],1):t._e(),t.accessToken?a("li",{staticClass:"nav-item my-1"},["SuperAdmin"==this.user.role.role_name?a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"User"}}},[a("img",{staticClass:"mr-4",attrs:{src:t.user_i}}),a("span",[t._v("User")])]):t._e()],1):t._e(),a("hr",{staticStyle:{color:"white"}}),t.accessToken?a("li",{staticClass:"nav-item my-1"},["SuperAdmin"==this.user.role.role_name?a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Notification"}}},[a("img",{staticClass:"mr-4",attrs:{src:t.notif_i}}),a("span",[t._v("Notification")])]):t._e()],1):t._e(),t.accessToken?a("li",{staticClass:"my-1"},[a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Logout"}}},[a("img",{staticClass:"mr-4",attrs:{src:t.login_i}}),a("span",[t._v("Sign Out")])])],1):t._e()])]):a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMobileView||t.sidebarOpen,expression:"!isMobileView || sidebarOpen"}],class:{sidebar:!0,"sidebar-open":t.sidebarOpen},staticStyle:{"z-index":"91000"},attrs:{id:"mySidebar"},on:{mouseover:function(e){return t.toggleSidebar()},mouseleave:function(e){return t.toggleOut()}}},[a("ul",[a("li",{staticClass:"centered-image"},[a("img",{staticClass:"mobile-icon",staticStyle:{"max-width":"50px"},attrs:{src:t.logoPDAM}})]),"SuperAdmin"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("SADM ")]):"Admin"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("ADM")]):"Guest"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("TAMU")]):"QA"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("QA")]):"Direksi"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v("Direksi")]):a("li",{staticClass:"centered-image",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v(t._s(this.user.username))]),"Admin"==this.user.role.role_name?a("li",{staticClass:"centered-image pt-2",staticStyle:{"font-size":"0.7rem",color:"#092581"}},[t._v(t._s(this.user.balai.balai_name))]):t._e(),a("li",{staticClass:"my-1 mt-3"},[a("router-link",{staticClass:"active",staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Home",params:{balai_id:this.balai}},"aria-current":"page"}},[a("img",{staticClass:"mr-4",attrs:{src:t.dash_i}}),a("span",[t._v("Dashboard")])])],1),t.accessToken?a("li",{staticClass:"nav-item my-1"},[a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Station",params:{balai_id:this.balai,user_id:t.user_id}}}},[a("img",{staticClass:"mr-4",attrs:{src:t.stat_i}}),a("span",[t._v("Station")])])],1):t._e(),t.accessToken?a("li",{staticClass:"nav-item my-1"},["SuperAdmin"==this.user.role.role_name?a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"User",params:{balai_id:this.balai}}}},[a("img",{staticClass:"mr-4",attrs:{src:t.user_i}}),a("span",[t._v("User")])]):t._e()],1):t._e(),a("hr",{staticStyle:{color:"white"}}),t.accessToken?a("li",{staticClass:"nav-item my-1"},["SuperAdmin"==this.user.role.role_name?a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Notification"}}},[a("img",{staticClass:"mr-4",attrs:{src:t.notif_i}}),a("span",[t._v("Notification")])]):t._e()],1):t._e(),t.accessToken?a("li",{staticClass:"my-1"},[a("router-link",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{to:{name:"Logout",params:{balai_id:this.balai}}}},[a("img",{staticClass:"mr-4",attrs:{src:t.login_i}}),a("span",[t._v("Sign Out")])])],1):t._e()])])])}),j=[],R=a("8265"),L=a.n(R),P=a("cbf5"),T=a.n(P),$=a("a722"),U=a.n($),M=a("f0ec"),Q=a.n(M),O=a("969e"),B=a.n(O),N=a("2058"),I=a.n(N),E=a("2368"),F=a.n(E),H={name:"Header",data:function(){return{detBalai:[],role:null,user_id:null,logoBT:L.a,logoPDAM:L.a,dash_i:T.a,notif_i:Q.a,login_i:U.a,data_i:B.a,stat_i:I.a,user_i:F.a,sidebarOpen:!1,isMobileView:!1,className:"bar"}},computed:Object(m["c"])(["accessToken"]),mounted:function(){this.isMobileView=window.innerWidth<=768,window.addEventListener("resize",this.handleResize)},methods:{toggleSidebar:function(){this.sidebarOpen=!this.sidebarOpen;var t=!0;t&&(document.getElementById("mySidebar").style.width="250px",null!=document.getElementById("main")&&(document.getElementById("main").style.marginLeft="250px",this.mini=!1)),"bar"===this.className?this.className="bar-white":this.className="bar"},toggleOut:function(){null!=document.getElementById("main")&&(document.getElementById("main").style.marginLeft="80px"),document.getElementById("mySidebar").style.width="80px",this.mini=!0},handleResize:function(){this.isMobileView=window.innerWidth<=768}},created:function(){this.extractUserInfo()},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)}},Y=H,G=(a("ca50"),a("eb9f"),a("e62f"),a("6f56"),Object(l["a"])(Y,z,j,!1,null,"d550b278",null)),J=G.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.ava_width>768&&"QA"!==t.role?a("div",{staticClass:"d-flex flex-row"},[a("marquee-text",{staticClass:"card mt-0 pb-1 box custom-col-md",attrs:{repeat:t.text_repeat,duration:t.custom_duration,paused:t.isPaused},on:{mouseenter:function(e){t.isPaused=!t.isPaused},mouseleave:function(e){t.isPaused=!1}}},t._l(t.stations,(function(e){return a("span",{key:e.id,staticStyle:{"font-size":"1.1rem"}},[a("span",{staticStyle:{color:"#00B2FF","font-weight":"500"}},[t._v(" "+t._s(e.station_name)+" • ")]),a("span",t._l([e],(function(e,s){return a("span",{key:s,staticClass:"flex mt-2"},t._l(e.last_data,(function(s,i){return a("span",{key:i,staticStyle:{color:"#00B2FF"}},[t._v(" "+t._s(s.sensor_name)+" : "+t._s(s.value)+" "+t._s(s.notation)+" "),i<e.last_data.length-1?a("span",[t._v(" | ")]):t._e()])})),0)})),0),a("img",{staticClass:"mx-2 my-1",staticStyle:{width:"20px"},attrs:{src:t.logoPDAM}})])})),0)],1):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col px-0",class:{"col-6 pr-0":t.ava_width>768}},[a("div",{staticClass:"row"},["QA"!==t.role?a("div",{staticClass:"col-12"},[a("StationMap",{staticClass:"mx-auto mt-2 shadow-sm border",staticStyle:{"border-radius":"15px"},attrs:{stations:t.stations,loading_i:t.loading_i}})],1):t._e(),a("div",{staticClass:"col-12"},[a("Stations",{staticClass:"shadow-sm border mt-2 bg-white",staticStyle:{"border-radius":"15px"},attrs:{stations:t.stations,stationsQA:t.stationsQA,loading_i:t.loading_i},on:{"station-selected":t.handleStationSelected,"stationqa-selected":t.handleStationSelectedQA}})],1)])]),a("div",{staticClass:"col px-0",class:{"col-6 px-0":t.ava_width>768}},[a("StationData",{attrs:{station:t.selectedStation,stationQA:t.selectedStationQA}})],1)])])},Z=[],W=(a("159b"),a("4de4"),a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.center&&t.zoom?a("div",{staticClass:"row map"},[t.loading_i?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem","margin-right":"20px"}})]):t._e(),t.loading_i?t._e():a("v-map",{staticClass:"box",staticStyle:{"border-radius":"15px","z-index":"2",position:"relative"},attrs:{zoom:t.zoom,center:t.center,options:{attributionControl:!1,zoomControl:!1}},on:{"update:zoom":t.zoomUpdated,"update:center":t.centerUpdated}},[a("v-icondefault"),a("v-tilelayer",{attrs:{url:t.url,attribution:t.attribution}}),a("v-control",{staticClass:"example-custom-control m-2",staticStyle:{"border-radius":"5px",opacity:"75%"},attrs:{position:"bottomright"}},[a("div",{staticClass:"py-1 px-1",staticStyle:{"font-weight":"bold"}},[a("div",[a("img",{staticClass:"px-1 py-0",attrs:{src:t.st_im}}),t._v("Stasiun")])])]),t._l(t.stations,(function(e){return a("span",{key:e.station_serial_id},[a("span",[e.latitude?a("v-marker",{attrs:{"lat-lng":t.latLng(e.latitude,e.longitude)}},[a("v-icon",{attrs:{"icon-url":t.icon_st,"icon-size":t.dynamicSize}}),a("v-popup",[a("div",{staticClass:"text-center"},[a("img",{staticClass:"imgSZ",attrs:{src:t.st_i}}),a("div",{staticClass:"my-1",staticStyle:{"font-weight":"600"}},[t._v(" "+t._s(e.station_name)+" "),a("br")]),a("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},["OK"==e.station_status?a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticClass:"dotOK mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#219653"}},[t._v(t._s(e.station_status))])]):"maintenance"==e.station_status?a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticClass:"dotMTC mx-1"}),t._v(" "),a("span",{staticStyle:{color:"black"}},[t._v("MTC")])]):"Min Threshold"==e.station_status?a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticClass:"dotMin mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#00B2FF"}},[t._v(t._s(e.station_status))])]):"Max Threshold"==e.station_status?a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticClass:"dotMax mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#D34053"}},[t._v(t._s(e.station_status))])]):a("div",[t._v(t._s(e.station_status))]),a("div",{staticClass:"my-1 text-muted",staticStyle:{"font-size":"0.7rem"}},[t._v(" "+t._s(t.formatDate(e.last_time))+" ")])]),a("div",{staticClass:"d-flex row"},["SuperAdmin"==t.role||"Admin"==t.role?a("div",{staticClass:"col-md-6 px-0"},[a("router-link",{staticClass:"btn btn-primary d-flex flex-row justify-content-center py-0",staticStyle:{"margin-right":"2.5px"},attrs:{type:"button",to:"/station/data/"+e.station_serial_id}},[a("img",{staticClass:"mx-1",attrs:{src:t.detail_i}}),a("span",{staticClass:"text-white",staticStyle:{"font-size":"0.8rem"}},[t._v("Data")])])],1):t._e(),"Guest"==t.role?a("div",{staticClass:"col-md-12 px-0"},[a("router-link",{staticClass:"btn btn-primary d-flex flex-row justify-content-center py-0",staticStyle:{"margin-right":"2.5px"},attrs:{type:"button",to:"/station/data/"+e.station_serial_id}},[a("img",{staticClass:"mx-1",attrs:{src:t.detail_i}}),a("span",{staticClass:"text-white",staticStyle:{"font-size":"0.8rem"}},[t._v("Data")])])],1):t._e(),"SuperAdmin"==t.role||"Admin"==t.role?a("div",{staticClass:"col-md-6 px-0"},[a("router-link",{staticClass:"btn btn-success d-flex flex-row justify-content-center py-0",staticStyle:{"margin-left":"2.5px"},attrs:{type:"button",to:"/station/update/"+e.station_serial_id}},[a("img",{staticClass:"mx-1",attrs:{src:t.edit_i}}),a("span",{staticClass:"text-white",staticStyle:{"font-size":"0.8rem"}},[t._v("Edit")])])],1):t._e()])])])],1):t._e()],1)])})),a("v-control-scale",{attrs:{position:"topright",imperial:!1,metric:!0}})],2)],1):t._e()}),K=[],V=(a("99af"),a("2699")),X=a("a40a"),tt=a("9762"),et=a("4e2b"),at=a("f60f"),st=a("d371"),it=a("fbba"),nt=a("2253"),rt=a("cc7b"),ot=a.n(rt),lt=a("355f"),ct=a.n(lt),dt=a("8ed3"),ut=a.n(dt),mt=a("1353"),pt=a.n(mt),ft=a("a5f6"),ht=a.n(ft),vt=a("b447"),gt=a.n(vt),bt=a("fe62"),_t=a.n(bt),yt=a("a239"),Ct=a.n(yt),xt=a("9f10"),wt=a.n(xt),St={name:"StationMap",props:["stations","loading_i"],components:{"v-map":V["a"],"v-tilelayer":X["a"],"v-icondefault":tt["a"],"v-marker":et["a"],"v-popup":at["a"],"v-control-scale":st["a"],"v-icon":it["a"],"v-control":nt["a"]},data:function(){return{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"",zoom:11,center:[-7.277016214,112.708518708],iconSize:[20],icon_st:ot.a,st_im:ot.a,st_i:ct.a,edit_i:ut.a,detail_i:pt.a,mtc_i:ht.a,ok_i:gt.a,s1_i:_t.a,s2_i:Ct.a,s3_i:wt.a,role:""}},computed:{dynamicSize:function(){return[this.iconSize,1.15*this.iconSize]}},methods:{latLng:function(t,e){return[t,e]},centerUpdated:function(t){this.center=t},zoomUpdated:function(t){this.zoom=t},formatDate:function(t){var e=new Date(t),a={day:"2-digit",month:"short",year:"numeric"},s={hour:"2-digit",minute:"2-digit"},i=e.toLocaleDateString("en-GB",a),n=e.toLocaleTimeString("en-GB",s);return"".concat(i,", ").concat(n)}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.extractUserInfo();case 1:case"end":return e.stop()}}),e)})))()}},Dt=St,kt=(a("b290"),a("a83b"),a("b8cd"),Object(l["a"])(Dt,W,K,!1,null,"39ec5d4e",null)),At=kt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading_i&&"QA"!==t.role?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",staticStyle:{"min-height":"35vh"}},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem","margin-right":"20px"}})]):t._e(),t.loading_i&&"QA"===t.role?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",staticStyle:{"min-height":"90vh"}},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem","margin-right":"20px"}})]):t._e(),"QA"!==t.role?a("div",{staticClass:"box"},[t.loading_i?t._e():a("div",{staticClass:"tab-content station-list",attrs:{id:"tabs-tabContent"}},[a("div",{staticClass:"tableFixHead tab-pane fade active show",class:{h100:t.ava_width<=850,tableQA:"QA"==t.role},attrs:{id:"tabs-ARR",role:"tabpanel","aria-labelledby":"tabs-ARR-tab"}},[a("table",{staticClass:"table table-hover table-responsive text-nowrap text-center table-border bg-white mx-2"},[a("thead",{staticClass:"table-light"},[a("tr",t._l(t.table_head,(function(e,s){return a("th",{key:s,class:{thClass:s>=0,sticky:2===s}},[t._v(" "+t._s(e)+" ")])})),0)]),a("tbody",t._l(t.localStations,(function(e,s){return a("tr",{key:e.station_serial_id,staticStyle:{cursor:"pointer"},on:{click:function(a){return t.selectStation(e)}}},[a("td",[t._v(t._s(s+1))]),a("td",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","font-size":"0.7rem"}},["OK"==e.station_status?a("div",{staticClass:"statusText"},[a("span",{staticClass:"dotOK mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#219653"}},[t._v(t._s(e.station_status))])]):"maintenance"==e.station_status?a("div",{staticClass:"statusText"},[a("span",{staticClass:"dotMTC mx-1"}),t._v(" "),a("span",{staticStyle:{color:"black"}},[t._v("MTC")])]):"Min Threshold"==e.station_status?a("div",{staticClass:"statusText"},[a("span",{staticClass:"dotMin mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#00B2FF"}},[t._v(t._s(e.station_status))])]):"Max Threshold"==e.station_status?a("div",{staticClass:"statusText"},[a("span",{staticClass:"dotMax mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#D34053"}},[t._v(t._s(e.station_status))])]):a("div",{staticClass:"statusText"},[a("span",{staticClass:"dotMax mx-1"}),t._v(" "+t._s(e.station_status)+" ")])]),a("td",[t._v(" "+t._s(e.station_name)+" ")]),a("td",["SuperAdmin"==t.role?a("router-link",{staticClass:"btn btn-sm btn-primary m-0 p-0",staticStyle:{"font-size":"0.8rem",padding:"0 5px!important"},attrs:{type:"button",to:{path:"/station/data/"+e.station_serial_id}}},[t._v("Data")]):a("router-link",{staticClass:"btn btn-primary btn-sm m-0 p-0",staticStyle:{"font-size":"0.8rem",padding:"0 5px!important"},attrs:{type:"button",to:{path:"/station/data/"+e.station_serial_id}}},[t._v("Data")])],1),a("td",[t._v(" "+t._s(t.formatDate(e.last_time))+" ")]),a("td",[t._v(" "+t._s(t.formatTime(e.last_time))+" ")]),t._l(e.last_data,(function(e,s){return a("td",{key:s},[t._v(" "+t._s(e.value)+" "+t._s(e.notation)+" ")])}))],2)})),0)])])])]):a("div",{staticClass:"box"},[t.loading_i?t._e():a("div",{staticClass:"tab-content station-list",attrs:{id:"tabs-tabContent"}},[a("div",{staticClass:"tableFixHead tab-pane fade active show",class:{h100:t.ava_width<=850,tableQA:"QA"==t.role},attrs:{id:"tabs-ARR",role:"tabpanel","aria-labelledby":"tabs-ARR-tab"}},[a("table",{staticClass:"table table-hover table-responsive text-nowrap text-center table-border bg-white mx-2"},[a("thead",{staticClass:"table-light"},[a("tr",t._l(t.table_headQA,(function(e,s){return a("th",{key:s,class:{thClass:s>=0,sticky:2===s}},[t._v(" "+t._s(e)+" ")])})),0)]),a("tbody",t._l(t.stationsQA,(function(e,s){return a("tr",{key:e.station_serial_id,staticStyle:{cursor:"pointer"},on:{click:function(a){return t.selectStationQA(e)}}},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(" "+t._s(e.station_name)+" ")]),a("td",[a("router-link",{staticClass:"btn btn-primary btn-sm m-0 p-0",staticStyle:{"font-size":"0.8rem",padding:"0 5px!important"},attrs:{type:"button",to:{path:"/station/data/"+e.station_serial_id}}},[t._v("Data")])],1),a("td",[t._v(" "+t._s(t.formatDate(e.data[0].date))+" ")]),a("td",[t._v(t._s(e.data[0].sum))]),a("td",[t._v(t._s(e.data[0].percentage)+" %")]),a("td",[t._v(t._s(e.data[0].maintenance))])])})),0)])])])])])},jt=[],Rt=a("2909"),Lt=(a("a15b"),{name:"Stations",props:["stationsQA","stations","loading_i"],data:function(){return{users:[],st_stations:[],st_stationsQA:[],table_head:[],table_headQA:[],total_stat:null,total_statQA:null,table_head_pre:[],role:null,balai:null,indexSt:null,ava_width:null,ava_height:null}},computed:{localStations:{get:function(){return this.stations},set:function(t){this.$emit("update:stations",t)}}},methods:{selectStation:function(t){this.$emit("station-selected",t)},selectStationQA:function(t){this.$emit("stationqa-selected",t)},formatDate:function(t){var e=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],a=new Date(t),s=a.getFullYear(),i=""+a.getMonth(),n=""+a.getDate();return n.length<2&&(n="0"+n),[n,e[i],s].join(" ")},formatTime:function(t){var e=new Date(t),a=""+e.getHours(),s=""+e.getMinutes(),i=e.getSeconds();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),i.length<2&&(i="0"+i),[a,s].join(":")},loadStations:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processStations(),setInterval(Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchStations();case 2:t.processStations();case 3:case"end":return e.stop()}}),e)}))),3e5);case 2:case"end":return e.stop()}}),e)})))()},loadStationsQA:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.processStationsQA();case 1:case"end":return e.stop()}}),e)})))()},fetchStations:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(t.$baseURL,"/pdam/dashboard/"),{headers:{Authorization:"Bearer ".concat(t.token)}});case 3:a=e.sent,t.localStations=a.data.data,t.loading_i=200!==a.status,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},processStations:function(){this.st_stations=Object(Rt["a"])(this.localStations),this.total_stat=this.localStations.length,this.table_head=["No","Status","Nama Stasiun","Data","Tanggal","Waktu","Flowmeter","Totalizer"]},processStationsQA:function(){this.st_stationsQA=Object(Rt["a"])(this.stationsQA),this.total_statQA=this.stationsQA.length,this.table_headQA=["No","Nama Stasiun","Data","Tanggal","Jumlah Data","Persentase Data","Jumlah Gangguan"]},handleScroll:function(){var t=document.querySelector("th.sticky"),e=document.querySelector("table"),a=e.getBoundingClientRect(),s=t.getBoundingClientRect();s.top<=a.top&&s.bottom>=a.bottom?t.style.top="0":s.top<=a.top?t.style.top="".concat(a.top-s.top,"px"):s.bottom>=a.bottom&&(t.style.top="".concat(a.bottom-s.bottom,"px"))}},created:function(){this.extractUserInfo(),this.ava_width=screen.availWidth,this.ava_height=screen.availHeight},mounted:function(){"QA"!==this.role?this.loadStations():this.loadStationsQA()}}),Pt=Lt,Tt=(a("f44c"),Object(l["a"])(Pt,zt,jt,!1,null,"ba8354ce",null)),$t=Tt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container px-0"},["QA"===t.role||t.station?t._e():a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",staticStyle:{"min-height":"70vh"}},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem","margin-right":"20px"}})]),"QA"!==t.role||t.stationQA?t._e():a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",staticStyle:{"min-height":"90vh"}},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem","margin-right":"20px"}}),a("div",{staticClass:"py-2"},[t._v("Drawing Chart...")])]),t.station&&"QA"!==t.role?a("div",[a("div",{staticStyle:{"max-width":"100% !important","min-width":"100% !important"}},[a("div",{staticClass:"card box-sm mt-2 mx-1 comShadow",staticStyle:{"box-shadow":"10px","border-radius":"10px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 p-0 imgSZ"},[a("img",{staticClass:"img-fluid",staticStyle:{"object-fit":"cover","border-radius":"10px 0px 0px 10px","margin-left":"12px",width:"92%"},attrs:{src:""+t.station.image,alt:"station-img"}})]),a("div",{staticClass:"col-md-8 my-0",class:{"mt-2":t.ava_width<768}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7 col-7"},[a("div",{staticStyle:{"font-weight":"500","font-size":"1rem","margin-left":"7px"}},[t._v(" "+t._s(t.station.station_name)+" ")])]),a("div",{staticClass:"col-md-5 col-5 d-flex justify-content-end"},["OK"==t.station.station_status?a("div",{staticClass:"statusText px-2",staticStyle:{"font-size":"0.8rem"}},[a("span",{staticClass:"dotOK mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#219653"}},[t._v(t._s(t.station.station_status))])]):"maintenance"==t.station.station_status?a("div",{staticClass:"statusText px-2",staticStyle:{"font-size":"0.8rem"}},[a("span",{staticClass:"dotMTC mx-1"}),t._v(" "),a("span",{staticStyle:{color:"black"}},[t._v("MTC")])]):"Min Threshold"==t.station.station_status?a("div",{staticClass:"statusText px-2",staticStyle:{"font-size":"0.8rem"}},[a("span",{staticClass:"dotMin mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#00B2FF"}},[t._v(t._s(t.station.station_status))])]):"Max Threshold"==t.station.station_status?a("div",{staticClass:"statusText px-2",staticStyle:{"font-size":"0.8rem"}},[a("span",{staticClass:"dotMax mx-1"}),t._v(" "),a("span",{staticStyle:{color:"#D34053"}},[t._v(t._s(t.station.station_status))])]):a("div",{staticClass:"statusText px-2",staticStyle:{"font-size":"0.8rem"}},[t._v(t._s(t.station.station_status))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7 mx-0"},[a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Lokasi")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.station.location))])]),"Distribusi"==t.station.balai?a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("In/Out Interzone")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.station.interzone))])]):a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Nameplate Head")]),a("div",{staticClass:"info-value"},[t._v(" "+t._s(t.station.nameplate_head))])])]),"Distribusi"==t.station.balai?a("div",{staticClass:"col-md-5 mx-0"},[a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v(" Max Flow")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.station.max_flow)+" L/s")])]),a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Diameter Pipa")]),a("div",{staticClass:"info-value"},[t._v(" "+t._s(t.station.diameter)+" mm ")])])]):a("div",{staticClass:"col-md-5 mx-0"},[a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Jumlah Operasi")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.station.jumlah_operasi))])]),a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Kapasitas")]),a("div",{staticClass:"info-value"},[t._v(" "+t._s(t.station.kapasitas)+" L/s ")])])])])])])])]),a("div",[a("div",{staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-1 bg-white comShadow",staticStyle:{"border-radius":"15px"}},[t._m(0),a("LineChart",{tag:"Chart",staticClass:"hChart25 p-0 pr-0 pt-0 pb-0",attrs:{label:t.formatAllDates(t.station.chart.time),"chart-data":t.station.chart.sensor_data[0].value,title:"Flowmeter ("+t.station.chart.sensor_data[0].notation+")"}})],1)]),a("div",{staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-1 bg-white comShadow",staticStyle:{"border-radius":"15px"}},[t._m(1),a("TotalChart",{tag:"Chart",staticClass:"hChart25 p-0 pr-0 pt-0 pb-0",attrs:{label:t.formatAllDates(t.station.chart.time),"chart-data":t.station.chart.sensor_data[1].value,title:"Totalizer ("+t.station.chart.sensor_data[1].notation+")"}})],1)]),"QA"===t.role?a("div",{staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-1 bg-white comShadow",staticStyle:{"border-radius":"15px"}},[t._m(2),a("TotalChartBar",{tag:"Chart",staticClass:"hChart25 p-0 pr-0 pt-0 pb-0",attrs:{label:t.formatAllDates(t.station.chart.time),"chart-data":t.station.chart.sensor_data[1].value,title:t.station.chart.sensor_data[1].sensor_name+" ("+t.station.chart.sensor_data[1].notation+")"}})],1)]):t._e()])]):t._e(),t.stationQA&&"QA"===t.role?a("div",[a("div",{staticClass:"mt-2"},[a("div",{staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-1 bg-white comShadow",staticStyle:{"border-radius":"15px"}},[a("div",[a("div",{staticClass:"mt-1 d-flex justify-content-center",staticStyle:{"font-weight":"500","font-size":"1rem","margin-left":"7px"}},[t._v(" "+t._s(t.stationQA.station_name)+" ")]),a("div",{staticClass:"px-2 py-1",staticStyle:{"font-weight":"500","font-size":"0.9em"}},[t._v(" Jumlah Data ")])]),a("TotalChartBar",{tag:"Chart",staticClass:"hChartQA p-0 pr-0 pt-0 pb-0",attrs:{label:t.stationQA.data.map((function(t){return t.date})).reverse(),"chart-data":t.stationQA.data.map((function(t){return t.sum})).reverse(),title:"Jumlah Data"}})],1)]),a("div",{staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-1 bg-white comShadow",staticStyle:{"border-radius":"15px"}},[t._m(3),a("TotalChartBar",{tag:"Chart",staticClass:"hChartQA p-0 pr-0 pt-0 pb-0",attrs:{label:t.stationQA.data.map((function(t){return t.date})).reverse(),"chart-data":t.stationQA.data.map((function(t){return t.percentage})).reverse(),title:"Persentase Data (%)"}})],1)]),a("div",{staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-1 bg-white comShadow",staticStyle:{"border-radius":"15px"}},[t._m(4),a("TotalChartBar",{tag:"Chart",staticClass:"hChartQA p-0 pr-0 pt-0 pb-0",attrs:{label:t.stationQA.data.map((function(t){return t.date})).reverse(),"chart-data":t.stationQA.data.map((function(t){return t.maintenance})).reverse(),title:"Jumlah Gangguan"}})],1)])])]):t._e()])},Mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"px-2 py-1",staticStyle:{"font-weight":"500","font-size":"0.9em"}},[t._v(" Data Flowmeter ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"px-2 py-1",staticStyle:{"font-weight":"500","font-size":"0.9em"}},[t._v(" Data Totalizer ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"px-2 py-1",staticStyle:{"font-weight":"500","font-size":"0.9em"}},[t._v(" Data Gangguan ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"px-2 py-1",staticStyle:{"font-weight":"500","font-size":"0.9em"}},[t._v(" Persentase Data (%) ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"px-2 py-1",staticStyle:{"font-weight":"500","font-size":"0.9em"}},[t._v(" Jumlah Gangguan ")])])}],Qt=(a("d9e2"),a("1fca")),Ot={name:"LineChart",extends:Qt["b"],props:{label:{type:Array},chartData:{type:Array},chartData2:{type:Array},legend:{type:Boolean},title:{type:String}},data:function(){return{gradient:null}},mounted:function(){this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(104, 192, 255, 1)"),this.gradient.addColorStop(.5,"rgba(104, 192, 255, 0)"),this.gradient.addColorStop(.6,"rgba(59, 130, 246, 0.08)"),this.gradient.addColorStop(1,"rgba(59, 130, 246, 0.08)"),this.renderChart({labels:this.label,datasets:[{label:this.title,borderColor:"rgba(99, 102, 241, 0.9)",pointBackgroundColor:"rgba(99, 102, 241, 0.9)",borderWidth:2,backgroundColor:this.gradient,data:this.chartData,pointRadius:1,tension:.1,z:2}]},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{borderDash:[8,4],color:!1,z:1}}]}})},watch:{chartData:function(){this.$data._chart.destroy(),this.renderChart({labels:this.label,datasets:[{label:this.title,borderColor:"rgba(99, 102, 241, 0.9)",pointBackgroundColor:"rgba(99, 102, 241, 0.9)",borderWidth:2,backgroundColor:this.gradient,data:this.chartData,pointRadius:1,tension:.1,z:2}]},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{borderDash:[8,4],color:!1,z:1}}]}})}}},Bt=Ot,Nt=Object(l["a"])(Bt,v,g,!1,null,null,null),It=Nt.exports,Et={name:"LineChart",extends:Qt["b"],props:{label:{type:Array},chartData:{type:Array},chartData2:{type:Array},legend:{type:Boolean},title:{type:String}},data:function(){return{gradient:null}},mounted:function(){this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(253, 188, 92, 0.9)"),this.gradient.addColorStop(.5,"rgba(253, 188, 92, 0)"),this.gradient.addColorStop(.6,"rgba(255, 165, 0, 0.08)"),this.gradient.addColorStop(1,"rgba(255, 165, 0, 0.08)"),this.renderChart({labels:this.label,datasets:[{label:this.title,borderColor:"rgba(253, 188, 92, 0.9)",pointBackgroundColor:"rgba(253, 188, 92, 0.9)",borderWidth:2,backgroundColor:this.gradient,data:this.chartData,pointRadius:1,tension:.1,z:2}]},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!1},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{borderDash:[8,4],color:!1,z:1}}]}})},watch:{chartData:function(){this.$data._chart.destroy(),this.renderChart({labels:this.label,datasets:[{label:this.title,borderColor:"rgba(253, 188, 92, 0.9)",pointBackgroundColor:"rgba(253, 188, 92, 0.9)",borderWidth:2,backgroundColor:this.gradient,data:this.chartData,pointRadius:1,tension:.1,z:2}]},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!1},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{borderDash:[8,4],color:!1,z:1}}]}})}}},Ft=Et,Ht=Object(l["a"])(Ft,b,_,!1,null,null,null),Yt=Ht.exports,Gt={name:"BarChart",extends:Qt["a"],props:{label:{type:Array},chartData:{type:Array},chartData2:{type:Array},legend:{type:Boolean},title:{type:String}},data:function(){return{gradient:null}},mounted:function(){this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(1,"rgba(59,130,246, 0.08)"),this.renderChart({labels:this.label,datasets:[{label:this.title,borderColor:"rgba(253, 188, 92, 0.9)",pointBackgroundColor:"rgba(253, 188, 92, 0.9)",borderWidth:2,backgroundColor:"rgba(253, 188, 92, 0.7)",data:this.chartData,pointRadius:1,tension:.1,z:2}]},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{borderDash:[8,4],color:!1,z:1}}]}})},watch:{chartData:function(){this.$data._chart.destroy(),this.renderChart({labels:this.label,datasets:[{label:this.title,borderColor:"rgba(253, 188, 92, 0.9)",pointBackgroundColor:"rgba(253, 188, 92, 0.9)",borderWidth:2,backgroundColor:"rgba(253, 188, 92, 0.7)",data:this.chartData,pointRadius:1,tension:.1,z:2}]},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{borderDash:[8,4],color:!1,z:1}}]}})}}},Jt=Gt,qt=Object(l["a"])(Jt,y,C,!1,null,null,null),Zt=qt.exports,Wt={name:"StationData",props:["station","stationQA"],data:function(){return{loading_i:!0,window_loc:"",options:{arcColors:["rgb(44,151,222)","lightgray"],arcDelimiters:[80],rangeLabel:["0%","100%"],centralLabel:"70%"},currentIndex:0,ava_width:null}},components:{LineChart:It,TotalChart:Yt,TotalChartBar:Zt},watch:{station:{handler:function(t){this.updateComponentData(t)},deep:!0},stationQA:{handler:function(t){this.updateComponentData(t)},deep:!0}},methods:{updateComponentData:function(t){this.loading_i=!1,this.window_loc=t.location||""},formatDate:function(t){try{var e=new Date(t);if(isNaN(e))throw new Error("Invalid date");var a={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"};return new Intl.DateTimeFormat("en-GB",a).format(e)}catch(s){return console.error("Error parsing date:",s),t}},formatAllDates:function(t){return t.map(this.formatDate)}},created:function(){this.extractUserInfo(),this.ava_width=screen.availWidth}},Kt=Wt,Vt=(a("573d"),a("1ba3"),Object(l["a"])(Kt,Ut,Mt,!1,null,"65ffeb33",null)),Xt=Vt.exports,te=(a("a9e3"),a("38cf"),a("cb29"),{name:"MarqueeText",functional:!0,props:{duration:{type:Number,default:15},repeat:{type:Number,default:2,validator:function(t){return t>0}},paused:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1}},render:function(t,e){var a=e.$style,s=e.props,i=s.duration,n=s.repeat,r=s.paused,o=s.reverse,l=e.children,c=e.data,d=c.staticClass,u=c.key,m=c.on,p=t("div",{class:a.text,style:{animationDuration:"".concat(i,"s"),animationDirection:o?"reverse":void 0}},l);return t("div",{key:u,on:m,class:[d,a.wrap]},[t("div",{class:[r?a.paused:void 0,a.content]},Array(n).fill(p))])}}),ee=te,ae=a("6edf");function se(t){this["$style"]=ae["default"].locals||ae["default"]}var ie,ne,re,oe,le,ce,de=Object(l["a"])(ee,x,w,!1,se,null,null),ue=de.exports,me={name:"Map",components:{StationMap:At,Stations:$t,StationData:Xt,MarqueeText:ue},data:function(){return{isPaused:!1,text_duration:null,text_repeat:null,custom_duration:null,showCarousel:!0,logoPDAM:L.a,role:null,balai:null,stations:[],stationsQA:[],normalIcon:[18,18],largeIcon:[25,25],marker:null,loading_i:!0,status:[],selectedStation:null,selectedStationQA:null,userStation:null,ava_width:null}},watch:{stations:{immediate:!0,handler:function(t){t.length>0&&!this.selectedStation&&(this.selectedStation=t[0])}},stationsQA:{immediate:!0,handler:function(t){t.length>0&&!this.selectedStationQA&&(this.selectedStationQA=t[0])}}},methods:{handleStationSelected:function(t){this.selectedStation=t},handleStationSelectedQA:function(t){this.selectedStationQA=t},loadData:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],s=[],i=null,n=null,e.next=6,f.a.get("".concat(t.$baseURL,"/pdam/dashboard/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){e.data.data.forEach((function(t){a.push(t.station_name.length),s.push(t.last_data.filter((function(t){return"Flow Meter"===t.sensor_name||"Totalizer"===t.sensor_name})).reduce((function(t,e){return t+e.sensor_name}),"").length);var e=t.station_name.length+1;t.last_data.filter((function(t){return"Flow Meter"===t.sensor_name||"Totalizer"===t.sensor_name})).reduce((function(t,e){return t+e.sensor_name}),"").length,t.duration=510*e})),i=a.reduce((function(t,e){return t+e}),0),n=s.reduce((function(t,e){return t+e}),0),t.stations=e.data.data,t.custom_duration=(i+n)/2,t.stations.slice(-1).pop().duration,200==e.status&&(t.loading_i=!1)})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 6:r=0,o=function e(){setTimeout((function(){r=(r+1)%t.stations.length,t.$refs.carousel&&t.$refs.carousel.goToPage(r),e()}),t.stations[r].duration)},o();case 9:case"end":return e.stop()}}),e)})))()},loadDataQA:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t.$baseURL,"/pdam/QA/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.stationsQA=e.data,200==e.status&&(t.loading_i=!1)}));case 2:case"end":return e.stop()}}),e)})))()}},created:function(){this.extractUserInfo(),this.ava_width=screen.availWidth},mounted:function(){"QA"!==this.role?this.loadData():this.loadDataQA()}},pe=me,fe=Object(l["a"])(pe,q,Z,!1,null,null,null),he=fe.exports,ve={components:{Header:J,Map:he},data:function(){return{stations:[],isPaused:!1,text_duration:null,text_repeat:null,logoPDAM:L.a,ava_width:null,ava_height:null,balai:null,loading_i:!0,balai_name:"",custom_duration:null,showCarousel:!0}},watch:{stations:function(t){t.length}},methods:{checkScreen:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.ava_width=screen.availWidth,t.ava_height=screen.availHeight;case 2:case"end":return e.stop()}}),e)})))()},marquee_f:function(t,e,a,s){return t.map((function(t,i){return{sensor:t,data:e[i],symbol:a[i],siaga:s[i],role:"is_guess"}}))},marquee_g:function(t,e,a){return t.map((function(t,s){return{sensor:t,data:e[s],symbol:a[s],role:"is_guess"}}))}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.extractUserInfo(),t.balai_name=document.title,t.loading_i=!1;case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.checkScreen();case 1:case"end":return e.stop()}}),e)})))()},beforeMount:function(){localStorage.getItem("pageReloaded")||(localStorage.setItem("pageReloaded","true"),window.location.reload())},destroyed:function(){localStorage.removeItem("pageReloaded")}},ge=ve,be=(a("d2e2"),a("2154"),Object(l["a"])(ge,D,k,!1,null,"18b71502",null)),_e=be.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"container"},[a("div",{staticClass:"row d-flex align-items-center justify-content-center"},[a("div",{staticClass:"img-fluid login100-more",style:{backgroundImage:"url(' "+t.bg_surabaya_img+" ')"}},[a("div",{staticClass:"logo-container m-3"},[a("router-link",{attrs:{to:{name:"Home",params:{balai_id:t.balai}}}},[a("img",{staticClass:"logo-img",attrs:{src:t.logoPDAM,alt:""}})]),a("div",[a("p",{staticClass:"bws"},[t._v(t._s(t.$app_title))]),a("p",{staticClass:"bws"},[t._v("SURABAYA")])])],1)]),a("div",{staticClass:"col-md-6"},[0==t.stats.length?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center pb-3"},[t._m(0)]):a("form",{staticClass:"login100-form validate-form",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[a("div",{staticClass:"form-group py-2"},[a("span",{staticClass:"form-title"},[t._v(" Sign In ")]),a("label",{staticClass:"mb-2",attrs:{for:"username"}},[t._v("Username")]),a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control py-2",staticStyle:{padding:"0.375rem 0.75rem"},attrs:{type:"text",placeholder:"Username",id:"username",autocomplete:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),a("div",{staticClass:"form-group py-2",staticStyle:{"border-radius":"1rem"}},[a("label",{staticClass:"mb-2",attrs:{for:"password"}},[t._v("Password")]),a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control py-2",staticStyle:{padding:"0.375rem 0.75rem"},attrs:{type:"password",placeholder:"Password",id:"password",autocomplete:"current-password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t.incorrectAuth?a("p",{staticClass:"pb-3",staticStyle:{color:"#fbb040"}},[t._v(" "+t._s(t.msg)+" ")]):t._e(),t.spin_i?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center pb-3"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"1.5rem"}})]):t._e(),t._m(3),a("div",{staticClass:"text-center p-t-90 pb-3",staticStyle:{color:"gray"}},[t._v(" © "+t._s(t.year)+" "+t._s(t.$app_title)+" ")])])])])])])},Ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-container"},[a("div",{staticClass:"icon-container"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem"}})]),a("p",{staticClass:"mt-3"},[t._v("Verifying Server Connection...")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-icon"},[s("img",{attrs:{src:a("6aed"),alt:"usr icon"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-icon"},[s("img",{attrs:{src:a("9619"),alt:"Check icon"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-login100-form-btn"},[a("button",{staticClass:"login100-form-btn rounded",staticStyle:{"min-width":"100%"},attrs:{type:"submit"}},[t._v(" Sign In ")])])}],xe=a("e9f5"),we=a.n(xe),Se=a("7819"),De=a.n(Se),ke=a("1380"),Ae=a.n(ke),ze={name:"Login",components:{},data:function(){return{username:"",password:"",msg:"",bg_surabaya_img:we.a,bg_weather_img:De.a,logoPDAM:Ae.a,incorrectAuth:!1,year:null,balai:null,spin_i:!1,balai_name:"",stats:!1}},methods:{login:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.spin_i=!0,t.$store.dispatch("userLogin",{username:t.username,password:t.password}).then((function(e){t.$router.push({name:"Home"}),200==e.status&&(t.spin_i=!1)})).catch((function(e){t.incorrectAuth=!0,t.msg="Error: Request failed with status code 400"==e?"These credentials do not match our records.":"Please try to login again.",t.spin_i=!1}));case 2:case"end":return e.stop()}}),e)})))()},loadBalai:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(t.$baseURL,"/schema/swagger-ui/"));case 3:t.stats=!0,e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error("Error fetching API:",e.t0),t.stats=!1;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}},created:function(){var t=new Date;this.year=t.getFullYear(),this.loadBalai()}},je=ze,Re=(a("9444"),a("34ba"),a("d075"),Object(l["a"])(je,ye,Ce,!1,null,"c9bf5ce8",null)),Le=Re.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column min-vh-100 justify-content-center align-items-center"},[a("router-link",{attrs:{to:{name:"Home"}}},[a("img",{attrs:{src:t.bg_img}})])],1)},Te=[],$e=a("8e71"),Ue=a.n($e),Me={name:"E_404",components:{},data:function(){return{bg_img:Ue.a}}},Qe=Me,Oe=(a("1f8e"),Object(l["a"])(Qe,Pe,Te,!1,null,"40e8ff68",null)),Be=Oe.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log"})},Ie=[],Ee={created:function(){this.$store.dispatch("userLogout",{router:this.$router})}},Fe=Ee,He=Object(l["a"])(Fe,Ne,Ie,!1,null,null,null),Ye=He.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"mobile-width d-flex justify-content-between align-items-center"},[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.$app_title)+" ")])]),a("div",{staticClass:"mobile-width"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",{staticClass:"subTitle"},[t._v("Daftar Stasiun")]),a("div",["SuperAdmin"===t.role?a("router-link",{staticClass:"btn btn-primary float-right my-2",staticStyle:{padding:"5px 10px"},attrs:{to:{name:"AddStation"},type:"button"}},[t._v("Tambah Data")]):t._e()],1)]),a("dataset",{attrs:{"ds-data":t.stations,"ds-sortby":t.sortBy,"ds-search-in":["station_name","location"]},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.ds;return[a("div",{attrs:{"data-page-count":s.dsPagecount}},[a("dataset-search",{attrs:{"ds-search-placeholder":"Search..."}})],1),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-responsive text-nowrap text-center table-borderless bg-white"},[a("thead",{staticClass:"table-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._l(t.cols,(function(e,s){return a("th",{key:e.field,staticClass:"thLight",class:["sort",e.sort],on:{click:function(e){return t.click(e,s)}}},[t._v(" "+t._s(e.name)+" "),a("i",{staticClass:"gg-select float-right"})])}))],2)]),t.loading_i?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"1.5rem"}})]):t._e(),a("dataset-item",{attrs:{tag:"tbody"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row,i=e.rowIndex;return[a("tr",[a("td",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),a("td",[t._v(t._s(s.station_name))]),a("td",[t._v(t._s(s.location))]),"SuperAdmin"==t.role?a("td",[t._v(t._s(s.balai.balai_name))]):t._e(),a("td",[t._v(t._s(s.latitude))]),a("td",[t._v(t._s(s.longitude))]),a("td",[a("router-link",{staticClass:"btn btn-primary btn-sm mx-1",attrs:{type:"button",to:{path:"/station/data/"+s.station_serial_id}}},[t._v("Data")]),"SuperAdmin"==t.role?a("span",[a("router-link",{staticClass:"btn btn-success btn-sm mx-1",attrs:{type:"button",to:"/station/update/"+s.station_serial_id+"/"}},[t._v("Edit")])],1):t._e()],1)])]}}],null,!0)})],1)])])]),a("div",{staticClass:"d-flex flex-md-row flex-column justify-content-between align-items-center"},[a("dataset-info",{staticClass:"mb-2 mb-md-0"}),a("dataset-pager")],1)]}}])})],1)],1)},Je=[],qe=a("5530"),Ze=(a("4e82"),a("b97b")),We=a("ea8e"),Ke=a("ea0d"),Ve=a("eb7e"),Xe=a("7b19"),ta={name:"Station",components:{Header:J,Dataset:Ze["a"],DatasetItem:We["a"],DatasetInfo:Ke["a"],DatasetPager:Ve["a"],DatasetSearch:Xe["a"]},data:function(){return{stations:[],loading_i:!0,balais:[],role:null,station:0,balai:null,nama_pos:"",cols:[{name:"Nama Stasiun"},{name:"Lokasi"},{name:"Latitude"},{name:"Longitude"},{name:"Action"}],colSuper:[{name:"Nama Stasiun"},{name:"Lokasi"},{name:"Produksi"},{name:"Latitude"},{name:"Longitude"},{name:"Action"}],userStationList:[]}},computed:{sortBy:function(){return this.cols.reduce((function(t,e){return e.sort&&("asc"===e.sort?t.push(e.field):t.push("-"+e.field)),t}),[])}},methods:Object(qe["a"])(Object(qe["a"])({},Object(m["b"])(["updateUserStationList"])),{},{click:function(t,e){var a,s=this.cols[e];t.shiftKey||this.cols.forEach((function(t){t.field!==s.field&&(t.sort="")})),s.sort||(a="asc"),"desc"===s.sort&&(a=t.shiftKey?"":"asc"),"asc"===s.sort&&(a="desc"),s.sort=a},loadData:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"SuperAdmin"==t.role&&(t.cols=t.colSuper),e.next=3,f.a.get("".concat(t.$baseURL,"/pdam/station/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.stations=e.data.data,200==e.status&&(t.loading_i=!1)})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 3:case"end":return e.stop()}}),e)})))()}}),created:function(){this.extractUserInfo(),this.loadData()}},ea=ta,aa=(a("9536"),Object(l["a"])(ea,Ge,Je,!1,null,"886e8de4",null)),sa=aa.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("div",{staticClass:"mobile-width"},[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.$app_title)+" "+t._s(t.role)+" ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",{staticClass:"subTitle"},[t._v("Tambah Stasiun")]),a("div",[a("router-link",{staticClass:"btn btn-light border mx-4 bg-white",attrs:{to:{name:"Station"},type:"button"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Simpan")])],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Data Stasiun")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md pb-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputNaPo"}},[t._v("Nama Stasiun*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.station_name,expression:"item.station_name"}],staticClass:"form-control",attrs:{type:"text",id:"inputNaPo",placeholder:"Nama Stasiun",required:""},domProps:{value:t.item.station_name},on:{input:function(e){e.target.composing||t.$set(t.item,"station_name",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLo"}},[t._v("Lokasi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.location,expression:"item.location"}],staticClass:"form-control",attrs:{type:"text",id:"inputLo",placeholder:"Lokasi"},domProps:{value:t.item.location},on:{input:function(e){e.target.composing||t.$set(t.item,"location",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLa"}},[t._v("Latitude*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.latitude,expression:"item.latitude"}],staticClass:"form-control",attrs:{type:"number",id:"inputLa",step:"0.000000001",placeholder:"Latitude",required:""},domProps:{value:t.item.latitude},on:{input:function(e){e.target.composing||t.$set(t.item,"latitude",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLo"}},[t._v("Longitude*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.longitude,expression:"item.longitude"}],staticClass:"form-control",attrs:{type:"number",id:"inputLo",step:"0.000000001",placeholder:"Longitude",required:""},domProps:{value:t.item.longitude},on:{input:function(e){e.target.composing||t.$set(t.item,"longitude",e.target.value)}}})])])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Foto Stasiun")]),a("div",{staticClass:"card-body"},[t.item.image?a("div",{staticClass:"dropZone-uploaded"},[a("div",{staticClass:"dropZone-uploaded-info"},[a("img",{staticStyle:{"max-width":"120px","max-height":"60px"},attrs:{src:t.item.image}}),a("span",{staticClass:"dropZone-filename p-1"},[t._v(t._s(t.file.name))]),a("button",{staticClass:"btn btn-primary removeFile p-1",attrs:{type:"button"},on:{click:t.removeFile}},[t._v(" Remove File ")])])]):a("div",[a("div",{class:["dropZone",t.dragging?"dropZone-over":""],on:{dragenter:function(e){t.dragging=!0},dragleave:function(e){t.dragging=!1}}},[a("div",{staticClass:"dropZone-info",on:{drag:t.onChange}},[a("img",{staticStyle:{"max-width":"120px","max-height":"60px"},attrs:{src:t.item.image}}),t._m(0),t._m(1)]),a("input",{attrs:{type:"file"},on:{change:t.updateImage}})])])])]),a("div",{staticClass:"card pt-1"},[a("div",{staticClass:"card-header"},[t._v("Data Logger")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Serial Number Logger")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sn_logger,expression:"item.sn_logger"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Serial Number Logger"},domProps:{value:t.item.sn_logger},on:{input:function(e){e.target.composing||t.$set(t.item,"sn_logger",e.target.value)}}})])])]),a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Serial Number Modem")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sn_modem,expression:"item.sn_modem"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Serial Number Modem"},domProps:{value:t.item.sn_modem},on:{input:function(e){e.target.composing||t.$set(t.item,"sn_modem",e.target.value)}}})])])]),a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Topic MQTT*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.topic,expression:"item.topic"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Topic MQTT",required:""},domProps:{value:t.item.topic},on:{input:function(e){e.target.composing||t.$set(t.item,"topic",e.target.value)}}})])])]),a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Maintenance Status")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.item.maintenance_status,expression:"item.maintenance_status"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"maintenance_status",e.target.multiple?a:a[0])}}},t._l(t.maintStatus,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])])])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Data Produksi")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md py-1"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Produksi*")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.item.balai,expression:"item.balai"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"balai",e.target.multiple?a:a[0])}}},t._l(t.produksis,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.balai_name)+" ")])})),0)]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"UkuranSensor"}},[t._v("Ukuran Sensor")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sensor_size,expression:"item.sensor_size"}],staticClass:"form-control",attrs:{type:"text",id:"UkuranSensor",placeholder:"Ukuran Sensor"},domProps:{value:t.item.sensor_size},on:{input:function(e){e.target.composing||t.$set(t.item,"sensor_size",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"HargaSatuan"}},[t._v("Harga Satuan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.unit_price,expression:"item.unit_price"}],staticClass:"form-control",attrs:{type:"number",id:"HargaSatuan",placeholder:"Harga Satuan"},domProps:{value:t.item.unit_price},on:{input:function(e){e.target.composing||t.$set(t.item,"unit_price",e.target.value)}}})])]),4==t.item.balai?a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"In/Out Interzone"}},[t._v("In/Out Interzone")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.interzone,expression:"item.interzone"}],staticClass:"form-control",attrs:{type:"text",id:"In/Out Interzone",placeholder:"Interzone"},domProps:{value:t.item.interzone},on:{input:function(e){e.target.composing||t.$set(t.item,"interzone",e.target.value)}}})])]):a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Nameplate"}},[t._v("Nameplate Head")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.nameplate_head,expression:"item.nameplate_head"}],staticClass:"form-control",attrs:{type:"text",id:"Nameplate",placeholder:"Nameplate Head"},domProps:{value:t.item.nameplate_head},on:{input:function(e){e.target.composing||t.$set(t.item,"nameplate_head",e.target.value)}}})])]),4==t.item.balai?a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Max"}},[t._v("Max Flow")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.max_flow,expression:"item.max_flow"}],staticClass:"form-control",attrs:{type:"text",id:"Max",placeholder:"Max Flow"},domProps:{value:t.item.max_flow},on:{input:function(e){e.target.composing||t.$set(t.item,"max_flow",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Diameter"}},[t._v("Diameter Pipa")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.pipe_diameter,expression:"item.pipe_diameter"}],staticClass:"form-control",attrs:{type:"text",id:"Diameter",placeholder:"Diameter Pipa"},domProps:{value:t.item.pipe_diameter},on:{input:function(e){e.target.composing||t.$set(t.item,"pipe_diameter",e.target.value)}}})])]):a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Kapasitas"}},[t._v("Kapasitas")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.capacity,expression:"item.capacity"}],staticClass:"form-control",attrs:{type:"text",id:"Kapasitas",placeholder:"Kapasitas"},domProps:{value:t.item.capacity},on:{input:function(e){e.target.composing||t.$set(t.item,"capacity",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Jumlah"}},[t._v("Jumlah Operasi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sum_operation,expression:"item.sum_operation"}],staticClass:"form-control",attrs:{type:"number",id:"Jumlah",placeholder:"Jumlah Operasi"},domProps:{value:t.item.sum_operation},on:{input:function(e){e.target.composing||t.$set(t.item,"sum_operation",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Percent"}},[t._v("Percent Cal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.percent_cal,expression:"item.percent_cal"}],staticClass:"form-control",attrs:{type:"number",id:"Percent",step:"0.01",placeholder:"Percent Cal"},domProps:{value:t.item.percent_cal},on:{input:function(e){e.target.composing||t.$set(t.item,"percent_cal",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Factor Cal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.item.factor_cal,expression:"item.factor_cal"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"factor_cal",e.target.multiple?a:a[0])}}},t._l(t.maintStatus,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)])])])])])])])])],1)},na=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropZone-title"},[a("span",{staticStyle:{color:"#3056d3"}},[t._v("Click to upload")]),t._v(" or drag and drop ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropZone-upload-limit-info"},[a("div",[t._v("PNG, JPG or JPEG")])])}],ra=(a("ac1f"),a("466d"),a("2ca0"),a("caad"),a("1276"),a("b0c0"),a("c1df")),oa=a.n(ra),la=a("0ed1"),ca=a.n(la),da={name:"AddStation",components:{Header:J},data:function(){return{login_i:ca.a,dragging:!1,snLoggers:[],snModems:[],maintStatus:[!1,!0],file:"",reader:"",produksis:[],item:{station_name:null,location:null,topic:null,percent_cal:0,factor_cal:!0,maintenance_status:!1,elevation:0,sn_modem:null,sn_logger:null,image:null,latitude:null,longitude:null,nameplate_head:null,sum_operation:null,capacity:null,interzone:null,max_flow:null,pipe_diameter:null,unit_price:null,sensor_size:null,logger_type:1,created_by:null,balai:null}}},methods:{removeFile:function(){this.item.image=null,this.fileName="";var t=this.$el.querySelector('input[type="file"]');t&&(t.value="")},onChange:function(t){this.file=t.target.files.item(0),this.reader=new FileReader,this.reader.addEventListener("load",this.imageLoaded),this.reader.readAsDataURL(this.file),this.file.length?this.createFile(this.file[0]):this.dragging=!1},createFile:function(t){return t.type.match("image.*")?t.size>5e6?(alert("please check file size no over 5 MB."),void(this.dragging=!1)):(this.file=t,console.log(this.file),void(this.dragging=!1)):(alert("please select image file"),void(this.dragging=!1))},fileSelected:function(t){this.file=t.target.files.item(0),this.reader=new FileReader,this.reader.addEventListener("load",this.imageLoaded),this.reader.readAsDataURL(this.file)},imageLoaded:function(t){this.imagePath=t.target.result},submitStation:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n,r,o,l,c,d,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=new FormData,!t.item.image||t.item.image.startsWith("http")){e.next=20;break}if(!(t.item.image instanceof File)){e.next=7;break}a.append("image",t.item.image),e.next=18;break;case 7:if(!t.item.image.startsWith("data:image")){e.next=17;break}return e.next=10,fetch(t.item.image);case 10:return s=e.sent,e.next=13,s.blob();case 13:i=e.sent,a.append("image",new File([i],"image.jpg",{type:"image/jpeg"})),e.next=18;break;case 17:throw new Error("Invalid image format");case 18:e.next=27;break;case 20:return e.next=22,fetch(L.a);case 22:return n=e.sent,e.next=25,n.blob();case 25:r=e.sent,a.append("image",new File([r],"logoPDAM.png",{type:"image/png"}));case 27:for(d in o=t.item.logger_type&&t.item.logger_type.id?t.item.logger_type.id:t.item.logger_type,l=t.item.balai&&t.item.balai.id?t.item.balai.id:t.item.balai,c=Object(qe["a"])(Object(qe["a"])({},t.item),{},{logger_type:o,balai:l}),c)a.append(d,c[d]);return u={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t.token)}},e.next=34,f.a.post("".concat(t.$baseURL,"/pdam/station/"),a,u);case 34:t.$router.push({name:"Station"}),e.next=40;break;case 37:e.prev=37,e.t0=e["catch"](0),!e.t0.response||401!==e.t0.response.status&&403!==e.t0.response.status?console.error("Error msg: ",e.t0):t.logoutUser();case 40:case"end":return e.stop()}}),e,null,[[0,37]])})))()},updateImage:function(t){var e,a=this;t.target.files?e=t.target.files[0]:t.dataTransfer&&(e=t.dataTransfer.files[0]);var s=["image/png","image/jpeg","image/jpg"];if(s.includes(e.type)){var i=new FileReader;i.onload=function(t){a.item.image=t.target.result},i.readAsDataURL(e)}else alert("Invalid file format. Please upload a PNG, JPEG or JPG image.")},submit:function(){this.$swal({position:"top-end",width:"300px",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),this.submitStation()}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.extractUserInfo(),e.next=3,f.a.get("".concat(t.$baseURL,"/balai/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.produksis=e.data.data})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 3:a=new Date,t.created_at=oa()(a).format("YYYY-MM-DDThh:mm");case 5:case"end":return e.stop()}}),e)})))()},computed:{extension:function(){return this.file?this.file.name.split(".").pop():""}}},ua=da,ma=(a("ff27"),a("673b"),Object(l["a"])(ua,ia,na,!1,null,"69dcd2dd",null)),pa=ma.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.item?a("div",[a("Header"),a("form",{on:{submit:function(e){return e.preventDefault(),t.update.apply(null,arguments)}}},[a("div",{staticClass:"mobile-width"},[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.$app_title)+" ")]),a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col-md subTitle"},[t._v(" Edit Data Stasiun "+t._s(t.item.station_name)+" ")]),a("div",{staticClass:"col-md d-flex justify-content-end"},[a("router-link",{staticClass:"btn btn-light border mx-4 bg-white",attrs:{to:{name:"Station"},type:"button"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Update")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Data Stasiun")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md pb-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLo"}},[t._v("Nama Stasiun*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.station_name,expression:"item.station_name"}],staticClass:"form-control",attrs:{type:"text",id:"inputLo",placeholder:"Nama Stasiun",required:""},domProps:{value:t.item.station_name},on:{input:function(e){e.target.composing||t.$set(t.item,"station_name",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLo"}},[t._v("Lokasi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.location,expression:"item.location"}],staticClass:"form-control",attrs:{type:"text",id:"inputLo",placeholder:"Lokasi"},domProps:{value:t.item.location},on:{input:function(e){e.target.composing||t.$set(t.item,"location",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLo"}},[t._v("Latitude*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.latitude,expression:"item.latitude"}],staticClass:"form-control",attrs:{type:"number",id:"inputLo",placeholder:"Latitude",step:"0.000000001",required:""},domProps:{value:t.item.latitude},on:{input:function(e){e.target.composing||t.$set(t.item,"latitude",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputLo"}},[t._v("Longitude*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.longitude,expression:"item.longitude"}],staticClass:"form-control",attrs:{type:"number",id:"inputLo",placeholder:"Longitude",step:"0.000000001",required:""},domProps:{value:t.item.longitude},on:{input:function(e){e.target.composing||t.$set(t.item,"longitude",e.target.value)}}})])])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Foto Stasiun")]),a("div",{staticClass:"card-body"},[t.file?t._e():a("div",[a("div",{class:["dropZone",t.dragging?"dropZone-over":""],on:{dragenter:function(e){t.dragging=!0},dragleave:function(e){t.dragging=!1}}},[a("div",{staticClass:"dropZone-info",on:{drag:t.onChange}},[t.item.image?a("img",{staticStyle:{"max-width":"120px","max-height":"60px"},attrs:{src:t.item.image}}):t._e(),t._m(0),t._m(1)]),a("input",{attrs:{type:"file"},on:{change:t.updateImage}})])])])]),a("div",{staticClass:"card pt-1"},[a("div",{staticClass:"card-header"},[t._v("Data Logger")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Serial Number Logger")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sn_logger,expression:"item.sn_logger"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Serial Number Logger"},domProps:{value:t.item.sn_logger},on:{input:function(e){e.target.composing||t.$set(t.item,"sn_logger",e.target.value)}}})])])]),a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Serial Number Modem")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sn_modem,expression:"item.sn_modem"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Serial Number Modem"},domProps:{value:t.item.sn_modem},on:{input:function(e){e.target.composing||t.$set(t.item,"sn_modem",e.target.value)}}})])])]),a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Topic MQTT*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.topic,expression:"item.topic"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Topic MQTT",required:""},domProps:{value:t.item.topic},on:{input:function(e){e.target.composing||t.$set(t.item,"topic",e.target.value)}}})])])]),a("div",{staticClass:"col-md"},[a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Maintenance Status")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.item.maintenance_status,expression:"item.maintenance_status"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"maintenance_status",e.target.multiple?a:a[0])}}},t._l(t.maintStatus,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),0)])])])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Data Produksi")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md py-1"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Produksi")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.item.balai.id,expression:"item.balai.id"}],staticClass:"form-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item.balai,"id",e.target.multiple?a:a[0])}}},t._l(t.produksis,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.balai_name)+" ")])})),0)]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"UkuranSensor"}},[t._v("Ukuran Sensor")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sensor_size,expression:"item.sensor_size"}],staticClass:"form-control",attrs:{type:"text",id:"UkuranSensor",placeholder:"Ukuran Sensor"},domProps:{value:t.item.sensor_size},on:{input:function(e){e.target.composing||t.$set(t.item,"sensor_size",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"HargaSatuan"}},[t._v("Harga Satuan")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.unit_price,expression:"item.unit_price"}],staticClass:"form-control",attrs:{type:"text",id:"HargaSatuan",placeholder:"Harga Satuan"},domProps:{value:t.item.unit_price},on:{input:function(e){e.target.composing||t.$set(t.item,"unit_price",e.target.value)}}})])]),4==t.item.balai.id?a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"In/OutInterzone"}},[t._v("In/Out Interzone")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.interzone,expression:"item.interzone"}],staticClass:"form-control",attrs:{type:"text",id:"In/OutInterzone",placeholder:"Interzone"},domProps:{value:t.item.interzone},on:{input:function(e){e.target.composing||t.$set(t.item,"interzone",e.target.value)}}})])]):a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Nameplate"}},[t._v("Nameplate Head")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.nameplate_head,expression:"item.nameplate_head"}],staticClass:"form-control",attrs:{type:"text",id:"Nameplate",placeholder:"Nameplate Head"},domProps:{value:t.item.nameplate_head},on:{input:function(e){e.target.composing||t.$set(t.item,"nameplate_head",e.target.value)}}})])]),4==t.item.balai.id?a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-group py-1"},[a("label",{attrs:{for:"Max"}},[t._v("Max Flow")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.max_flow,expression:"item.max_flow"}],staticClass:"form-control",attrs:{type:"text",id:"Max",placeholder:"Max Flow"},domProps:{value:t.item.max_flow},on:{input:function(e){e.target.composing||t.$set(t.item,"max_flow",e.target.value)}}})]),a("div",{staticClass:"form-group py-1"},[a("label",{attrs:{for:"Diameter"}},[t._v("Diameter Pipa")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.pipe_diameter,expression:"item.pipe_diameter"}],staticClass:"form-control",attrs:{type:"number",id:"Diameter",placeholder:"Diameter Pipa",step:"0.01"},domProps:{value:t.item.pipe_diameter},on:{input:function(e){e.target.composing||t.$set(t.item,"pipe_diameter",e.target.value)}}})])]):a("div",{staticClass:"col-md"},[a("div",{staticClass:"form-group py-1"},[a("label",{attrs:{for:"Kapasitas"}},[t._v("Kapasitas")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.capacity,expression:"item.capacity"}],staticClass:"form-control",attrs:{type:"number",id:"Kapasitas",placeholder:"Kapasitas",step:"0.01"},domProps:{value:t.item.capacity},on:{input:function(e){e.target.composing||t.$set(t.item,"capacity",e.target.value)}}})]),a("div",{staticClass:"form-group py-1"},[a("label",{attrs:{for:"Jumlah"}},[t._v("Jumlah Operasi")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.sum_operation,expression:"item.sum_operation"}],staticClass:"form-control",attrs:{type:"number",id:"Jumlah",placeholder:"Jumlah Operasi",step:"0.01"},domProps:{value:t.item.sum_operation},on:{input:function(e){e.target.composing||t.$set(t.item,"sum_operation",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Percent"}},[t._v("Percent Cal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.percent_cal,expression:"item.percent_cal"}],staticClass:"form-control",attrs:{type:"number",id:"Percent",placeholder:"Percent Cal",step:"0.01"},domProps:{value:t.item.percent_cal},on:{input:function(e){e.target.composing||t.$set(t.item,"percent_cal",e.target.value)}}})])]),a("div",{staticClass:"col-md py-1"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Factor"}},[t._v("Factor Cal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.item.factor_cal,expression:"item.factor_cal"}],staticClass:"form-control",attrs:{type:"number",id:"Factor",placeholder:"Factor Cal",step:"0.01"},domProps:{value:t.item.factor_cal},on:{input:function(e){e.target.composing||t.$set(t.item,"factor_cal",e.target.value)}}})])])])])])])])])],1):t._e()},ha=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropZone-title"},[a("span",{staticStyle:{color:"#3056d3"}},[t._v("Click to upload")]),t._v(" or drag and drop ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropZone-upload-limit-info"},[a("div",[t._v("PNG, JPG or JPEG")])])}],va={name:"UpdateStation",components:{Header:J},data:function(){return{dragging:!1,login_i:ca.a,produksis:[],snLoggers:[],snModems:[],maintStatus:[{value:!1,text:"OK"},{value:!0,text:"MAINTENANCE"}],file:null,reader:"",item:{station_name:"",location:"",topic:"",percent_cal:null,factor_cal:!0,maintenance_status:!1,elevation:null,sn_modem:"",sn_logger:"",image:"",latitude:"",longitude:"",nameplate_head:"",sum_operation:"",capacity:"",interzone:"",max_flow:"",pipe_diameter:"",unit_price:null,sensor_size:"",logger_type:null,created_by:null,balai:null}}},methods:{updateStation:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n,r,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=new FormData,!t.item.image||t.item.image.startsWith("http")){e.next=18;break}if(!(t.item.image instanceof File)){e.next=7;break}a.append("image",t.item.image),e.next=18;break;case 7:if(!t.item.image.startsWith("data:image")){e.next=17;break}return e.next=10,fetch(t.item.image);case 10:return s=e.sent,e.next=13,s.blob();case 13:i=e.sent,a.append("image",new File([i],"image.jpg",{type:"image/jpeg"})),e.next=18;break;case 17:throw new Error("Invalid image format");case 18:for(l in n=t.item.logger_type?t.item.logger_type.id:null,r=t.item.balai?t.item.balai.id:null,o=Object(qe["a"])(Object(qe["a"])({},t.item),{},{logger_type:n,balai:r}),o)"image"!==l&&a.append(l,o[l]);return c={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t.token)}},e.next=25,f.a.put("".concat(t.$baseURL,"/pdam/station/").concat(t.$route.params.id,"/"),a,c);case 25:t.$router.push({name:"Station"}),e.next=31;break;case 28:e.prev=28,e.t0=e["catch"](0),!e.t0.response||401!==e.t0.response.status&&403!==e.t0.response.status?console.error("Error msg: ",e.t0):t.logoutUser();case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))()},updateImage:function(t){var e,a=this;t.target.files?e=t.target.files[0]:t.dataTransfer&&(e=t.dataTransfer.files[0]);var s=["image/png","image/jpeg","image/jpg"];if(s.includes(e.type)){var i=new FileReader;i.onload=function(t){a.item.image=t.target.result},i.readAsDataURL(e)}else alert("Invalid file format. Please upload a PNG, JPEG or JPG image.")},onChange:function(t){this.file=t.target.files.item(0),this.reader=new FileReader,this.reader.addEventListener("load",this.imageLoaded),this.reader.readAsDataURL(this.file),this.file.length?this.createFile(this.file[0]):this.dragging=!1},createFile:function(t){return t.type.match("image.*")?t.size>5e6?(alert("please check file size no over 5 MB."),void(this.dragging=!1)):(this.file=t,console.log(this.file),void(this.dragging=!1)):(alert("please select image file"),void(this.dragging=!1))},imageLoaded:function(t){this.item.image=t.target.result},update:function(){this.$swal({position:"top-end",width:"300px",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),this.updateStation()}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.extractUserInfo(),e.next=3,f.a.get("".concat(t.$baseURL,"/balai/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.produksis=e.data.data})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 3:return e.prev=3,e.next=6,f.a.get("".concat(t.$baseURL,"/pdam/station/").concat(t.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(t.token)}});case 6:a=e.sent,t.item=a.data.data,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),!e.t0.response||401!==e.t0.response.status&&403!==e.t0.response.status?console.error("Error msg: ",e.t0):t.logoutUser();case 13:t.item.image="".concat(t.item.image);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()}},ga=va,ba=(a("a4b3"),a("62a4"),a("e632"),Object(l["a"])(ga,fa,ha,!1,null,"45365e11",null)),_a=ba.exports,ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mobile-width"},[a("Header"),t.loading_i?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center pb-3",staticStyle:{height:"100vh"}},[a("div",{staticClass:"content-container"},[null==t.e_code?a("div",{staticClass:"icon-container"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem"}})]):a("div",{staticClass:"icon-container"},[a("i",{staticClass:"zmdi zmdi-alert-triangle",staticStyle:{"font-size":"2rem"}})]),a("p",{staticClass:"mt-3"},[t._v(t._s(t.msg))])])]):a("div",[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.$app_title)+" ")]),a("div",[a("router-link",{staticClass:"btn btn-light border mt-1 bg-white",attrs:{to:{name:"Station"},type:"button"}},[t._v(" Back ")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 px-1"},[a("TableData",{staticClass:"mx-auto mt-2",staticStyle:{"border-radius":"15px"},attrs:{station:t.station,loading_i:t.loading_i,profile:t.profile},on:{"update-filtered-data":t.updateFilteredData,"update-filtered-dataQA":t.updateFilteredDataQA}})],1),a("div",{staticClass:"col-md-6 px-1"},[a("ChartData",{attrs:{station:t.station,ava_width:t.ava_width,debitData:t.debitData,totalData:t.totalData,label:t.label,stationQA:t.stationQA,percentDataQA:t.percentDataQA,sumDataQA:t.sumDataQA,mtcDataQA:t.mtcDataQA,labelQA:t.labelQA,taksasiData:t.taksasiData,profile:t.profile}})],1)]),a("Footer")],1)],1)},Ca=[],xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},wa=[],Sa={name:"HeaderPub",data:function(){return{year:""}},methods:{curDate:function(){this.year=(new Date).getFullYear()}},mounted:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.curDate();case 1:case"end":return e.stop()}}),e)})))()}},Da=Sa,ka=Object(l["a"])(Da,xa,wa,!1,null,null,null),Aa=ka.exports,za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"left-container"},["QA"!==t.role?a("TableMap",{staticClass:"mx-auto comShadow border",staticStyle:{"border-radius":"15px"},attrs:{loading_i:t.loading_i,profile:t.profile}}):a("div",{staticClass:"card box-sm comShadow",staticStyle:{"box-shadow":"10px","border-radius":"10px"}},[t.profile?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 p-0 imgSZ"},[a("img",{staticClass:"img-fluid",staticStyle:{"object-fit":"cover","border-radius":"10px 0px 0px 10px","margin-left":"12px",width:"95%"},attrs:{src:""+t.profile.image,alt:"station-img"}})]),a("div",{staticClass:"col-md-8 my-2"},[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"col-md-10 col-10"},[a("div",{staticStyle:{"font-weight":"500","font-size":"1.1rem"}},[t._v(" "+t._s(t.profile.station_name)+" ")])])]),a("div",{staticStyle:{"font-size":"0.8rem",color:"gray"}},[t._v(" "+t._s(t.formatDate(t.summaryQA.data[t.summaryQA.data.length-1].date))+" s/d "+t._s(t.formatDate(t.summaryQA.data[0].date))+" ")]),a("div",{staticClass:"row mt-1 mx-0"},[a("table",{staticStyle:{width:"60%"}},[a("tr",[a("td",{staticStyle:{"font-size":"1rem"}},[t._v("Rata-Rata Data Masuk")]),a("td",{staticStyle:{"font-size":"1rem"}},[t._v(": "+t._s(t.summaryQA.average_all_data)+" ")])]),a("tr",[a("td",{staticStyle:{"font-size":"1rem"}},[t._v("Target Data Seluruhnya")]),a("td",{staticStyle:{"font-size":"1rem"}},[t._v(": "+t._s(t.summaryQA.sum_all_data)+" ")])]),a("tr",[a("td",{staticStyle:{"font-size":"1rem"}},[t._v("Jumlah Data Seluruhnya")]),a("td",{staticStyle:{"font-size":"1rem"}},[t._v(": "+t._s(t.summaryQA.sum_all_data)+" ")])]),a("tr",[a("td",{staticStyle:{"font-size":"1rem"}},[t._v("Data Tidak Terkirim")]),a("td",{staticStyle:{"font-size":"1rem"}},[t._v(": "+t._s(t.summaryQA.sum_maintenance)+" ")])]),a("tr",[a("td",{staticStyle:{"font-size":"1rem"}},[t._v("Jumlah Gangguan")]),a("td",{staticStyle:{"font-size":"1rem"}},[t._v(": "+t._s(t.summaryQA.sum_maintenance)+" ")])])])])])]):t._e()])],1),"QA"!==t.role?a("div",{staticClass:"mt-2",staticStyle:{"border-radius":"15px"}},[t.dataStation?a("dataset",{staticClass:"box comShadow px-3",attrs:{"ds-data":t.dataStation,"ds-sortby":t.sortBy},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.ds;return[a("div",{staticClass:"row",attrs:{"data-page-count":s.dsPagecount}},[a("div",{staticClass:"col-md-1 d-flex justify-content-start",staticStyle:{"margin-top":"1rem"}},[a("div",{staticClass:"dropdown col"},[a("button",{staticClass:"btn btn-sm btn-primary dropdown-toggle",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",title:"Summary Data"}},[a("span",[a("i",{staticClass:"zmdi zmdi-search"})])]),a("ul",{staticClass:"dropdown-menu col",attrs:{"aria-labelledby":"dropdownMenuButton1"}},[a("li",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"}},[t._v(" Jumlah Data: "+t._s(t.summary.total_data)+" ")]),a("li",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"}},[t._v(" Rata Debit: "+t._s(t.summary.average_flow)+" L/s ")]),a("li",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"}},[t._v(" Total Volume: "+t._s(t.summary.sum_volume)+" m³ ")]),"SuperAdmin"==t.role?a("li",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"}},[t._v(" Persentase Data: "+t._s(t.summary.data_precentage)+" % ")]):t._e()])])]),a("div",{staticClass:"col-md-1 d-flex justify-content-start",staticStyle:{"margin-top":"1rem"}},["Admin"==t.role?a("div",{staticClass:"dropdown col"},[a("button",{staticClass:"btn btn-sm btn-primary dropdown-toggle",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",title:"Upload File"}},[t.loading_upload?a("i",{staticClass:"zmdi zmdi-rotate-right zmdi-hc-spin",staticStyle:{"font-size":"1.2rem","margin-right":"3px"}}):t._e(),a("span",[a("i",{staticClass:"zmdi zmdi-upload"})])]),a("ul",{staticClass:"dropdown-menu col",attrs:{"aria-labelledby":"dropdownMenuButton1"}},[a("li",{staticClass:"dropdown-submenu"},[a("a",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"},attrs:{"data-bs-toggle":"modal","data-bs-target":"#thresholdData",href:"#"}},[t._v("Threshold")])]),a("li",{staticClass:"dropdown-submenu"},[a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"},attrs:{"data-bs-toggle":"modal","data-bs-target":"#sensorData",href:"#"}},[t._v("Data Sensor")])])])]):a("div",[a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button",title:"Upload Threshold","data-bs-toggle":"modal","data-bs-target":"#thresholdData"}},[t.loading_upload?a("i",{staticClass:"zmdi zmdi-rotate-right zmdi-hc-spin",staticStyle:{"font-size":"1.2rem","margin-right":"3px"}}):t._e(),a("span",[a("i",{staticClass:"zmdi zmdi-upload"})])])])]),a("div",{staticClass:"modal fade",attrs:{id:"thresholdData","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"thresholdDataLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.tresholdDataUpload.apply(null,arguments)}}},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"thresholdDataLabel"}},[t._v(" Upload Threshold ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),a("div",{staticClass:"modal-body"},[a("div",[a("label",[a("input",{attrs:{type:"file",id:"file"},on:{change:function(e){return t.onChangeFileUpload(e)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.formatThreshold.apply(null,arguments)}}},[t._v(" Download Format ")]),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit","data-bs-dismiss":"modal"}},[t._v(" Upload Threshold ")])])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"sensorData","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"sensorDataLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.sensorDataUpload.apply(null,arguments)}}},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"sensorDataLabel"}},[t._v(" Upload Data Sensor ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),a("div",{staticClass:"modal-body"},[a("div",[a("label",[a("input",{attrs:{type:"file",id:"file"},on:{change:function(e){return t.onChangeFileUpload(e)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.formatData.apply(null,arguments)}}},[t._v(" Download Format ")]),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit","data-bs-dismiss":"modal"}},[t._v(" Upload Data Sensor ")])])])])])]),a("div",{staticClass:"col-md d-flex justify-content-end",class:{"justify-content-center":"QA"==t.role},staticStyle:{"margin-top":"1rem"}},[a("div",[t.loading_data?a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin mx-2",staticStyle:{"font-size":"1.2rem"}}):t._e(),a("DatePicker",{attrs:{name:"from",type:"datetime",format:"YYYY-MM-DD HH:mm",placeholder:"Select first date","minute-step":5},on:{change:t.search},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("label",{staticClass:"px-2",staticStyle:{"font-size":"0.8rem","font-weight":"normal"},attrs:{for:"to"}},[t._v("s.d")]),a("DatePicker",{attrs:{name:"to",type:"datetime",format:"YYYY-MM-DD HH:mm",placeholder:"Select last date","minute-step":5},on:{change:t.search},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)]),a("div",{staticClass:"col-md-1 d-flex justify-content-end",staticStyle:{"margin-top":"1rem"}},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-sm btn-primary dropdown-toggle",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",title:"Download sesuai filter tanggal"}},[t.loading_dw?a("i",{staticClass:"zmdi zmdi-rotate-right zmdi-hc-spin",staticStyle:{"font-size":"1.2rem","margin-right":"3px"}}):t._e(),a("span",[a("i",{staticClass:"zmdi zmdi-download"})])]),a("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton1"}},[a("li",[a("a",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.downloadAll.apply(null,arguments)}}},[t._v("Semua Data")])]),"SuperAdmin"==t.role?a("li",[a("a",{staticClass:"dropdown-item py-0",staticStyle:{"font-size":"0.9rem"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.downloadDaily.apply(null,arguments)}}},[t._v("Data per hari")])]):t._e()])])])]),a("div",{staticClass:"row mt-1"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-responsive text-nowrap text-center table-borderless bg-white table-bordered"},[a("thead",{staticClass:"table-light"},[a("tr",[a("th",{staticClass:"thClass",attrs:{scope:"col"}},[t._v("#")]),t._l(t.cols,(function(e,s){return a("th",{key:e.field,staticClass:"thClass",class:["sort",e.sort],on:{click:function(e){return t.click(e,s)}}},[t._v(" "+t._s(e.name)+" "),a("i",{staticClass:"gg-select float-right"})])}))],2)]),a("dataset-item",{attrs:{tag:"tbody"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row,i=e.index;return[a("tr",[a("td",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),a("td",[t._v(t._s(t.formatDate(s.time)))]),a("td",[t._v(t._s(t.formatTime(s.time)))]),t._l(s.sensor_data,(function(e,s){return a("td",{key:s},[a("span",[t._v(t._s(e.value)+" ")]),a("span",[t._v(t._s(e.notation))])])})),a("td",["OK"==s.status?a("div",{staticStyle:{"font-size":"0.8rem"}},[a("span",{staticStyle:{color:"#219653"}},[t._v(t._s(s.status))])]):"maintenance"==s.status?a("div",{staticStyle:{"font-size":"0.8rem"}},[a("span",{staticStyle:{color:"black"}},[t._v("MTC")])]):"Min Threshold"==s.status?a("div",{staticStyle:{"font-size":"0.8rem"}},[a("span",{staticStyle:{color:"#00B2FF"}},[t._v(t._s(s.status))])]):"Max Threshold"==s.status?a("div",{staticStyle:{"font-size":"0.8rem"}},[a("span",{staticStyle:{color:"#D34053"}},[t._v(t._s(s.status))])]):a("div",[t._v(t._s(s.status))])])],2)]}}],null,!0)})],1)])])]),a("div",{staticClass:"d-flex flex-md-row flex-column justify-content-end align-items-center"},[a("dataset-pager",{staticStyle:{"font-size":"0.9rem"}})],1)]}}],null,!1,1845737495)}):t._e()],1):a("div",{staticClass:"mt-2",staticStyle:{"border-radius":"15px"}},[t.dataStationQA?a("dataset",{staticClass:"box comShadow px-3",attrs:{"ds-data":t.dataStationQA,"ds-sortby":t.sortBy},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.ds;return[a("div",{staticClass:"row",attrs:{"data-page-count":s.dsPagecount}},[a("div",{staticClass:"col-md d-flex justify-content-end",class:{"justify-content-center":"QA"==t.role},staticStyle:{"margin-top":"1rem"}},[a("div",[t.loading_data?a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin mx-2",staticStyle:{"font-size":"1.2rem"}}):t._e(),a("DatePicker",{attrs:{name:"from",format:"YYYY-MM-DD HH:mm",type:"datetime","default-value":(new Date).setHours(0,0,0,0),"hour-options":t.hourStart,"minute-options":t.minuteStart,placeholder:"Select first date"},on:{change:t.search},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("label",{staticClass:"px-2",staticStyle:{"font-size":"0.8rem","font-weight":"normal"},attrs:{for:"to"}},[t._v("s.d")]),a("DatePicker",{attrs:{name:"to",format:"YYYY-MM-DD HH:mm",type:"datetime","default-value":(new Date).setHours(23,59,0,0),"hour-options":t.hourEnd,"minute-options":t.minuteEnd,placeholder:"Select last date"},on:{change:t.search},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)]),a("div",{staticClass:"d-flex justify-content-between px-0 py-2",class:{"px-5":t.ava_width>768}},[a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.downloadAll.apply(null,arguments)}}},[t.loading_dw?a("i",{staticClass:"zmdi zmdi-rotate-right zmdi-hc-spin",staticStyle:{"font-size":"1.2rem","margin-right":"3px"}}):t._e(),t._v("Data/Hari ")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.downloadAll.apply(null,arguments)}}},[t.loading_dw?a("i",{staticClass:"zmdi zmdi-rotate-right zmdi-hc-spin",staticStyle:{"font-size":"1.2rem","margin-right":"3px"}}):t._e(),t._v("Gangguan ")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.downloadAll.apply(null,arguments)}}},[t.loading_dw?a("i",{staticClass:"zmdi zmdi-rotate-right zmdi-hc-spin",staticStyle:{"font-size":"1.2rem","margin-right":"3px"}}):t._e(),t._v("Verifikasi ")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{"font-size":"0.8rem"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.downloadAll.apply(null,arguments)}}},[t.loading_dw?a("i",{staticClass:"zmdi zmdi-rotate-right zmdi-hc-spin",staticStyle:{"font-size":"1.2rem","margin-right":"3px"}}):t._e(),t._v("Insidentil ")])])]),a("div",{staticClass:"row mt-1"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-responsive text-nowrap text-center table-borderless bg-white table-bordered"},[a("thead",{staticClass:"table-light"},[a("tr",[a("th",{staticClass:"thClass",attrs:{scope:"col"}},[t._v("#")]),t._l(t.colsQA,(function(e,s){return a("th",{key:e.field,staticClass:"thClass",class:["sort",e.sort],on:{click:function(e){return t.click(e,s)}}},[t._v(" "+t._s(e.name)+" "),a("i",{staticClass:"gg-select float-right"})])}))],2)]),a("dataset-item",{attrs:{tag:"tbody"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row,i=e.index;return[a("tr",[a("td",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),a("td",[t._v(t._s(t.formatDate(s.date)))]),a("td",[t._v(t._s(s.sum))]),a("td",[t._v(t._s(s.percentage)+" %")]),a("td",[t._v(t._s(s.maintenance))])])]}}],null,!0)})],1)])])]),a("div",{staticClass:"d-flex flex-md-row flex-column justify-content-end align-items-center"},[a("dataset-pager",{staticStyle:{"font-size":"0.9rem"}})],1)]}}],null,!1,3318879665)}):t._e()],1)])},ja=[],Ra=(a("a630"),a("3ca3"),a("4d90"),a("ddb0"),a("2b3d"),a("9861"),a("498a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row map"},[t.loading_i?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"2rem","margin-right":"20px"}})]):t._e(),t.station&&!t.loading_i?a("v-map",{staticClass:"box",staticStyle:{"border-radius":"15px"},attrs:{zoom:15,center:t.center,options:{attributionControl:!1,zoomControl:!1}},on:{"update:zoom":t.zoomUpdated,"update:center":t.centerUpdated}},[a("v-icondefault"),a("v-tilelayer",{attrs:{url:t.url,attribution:t.attribution}}),a("v-control",{staticClass:"example-custom-control m-2",staticStyle:{"border-radius":"10px",opacity:"75%"},attrs:{position:"bottomright"}},[a("div",{staticClass:"py-2 px-2",staticStyle:{"font-weight":"bold"}},[a("div",[a("img",{staticClass:"px-1",attrs:{src:t.st_im}}),t._v("Stasiun")])])]),t.latLng?a("v-marker",{attrs:{"lat-lng":t.latLng}},[a("v-icon",[a("img",{staticClass:"iconSZ",attrs:{src:t.st_im}})]),a("v-popup",[a("div",{staticClass:"text-center"},[a("img",{staticClass:"imgSZ",attrs:{src:t.st_i}}),a("div",{staticClass:"my-1",staticStyle:{"font-weight":"600"}},[t._v(" "+t._s(t.profile.station_name)+" ")]),"SuperAdmin"==t.role||"Admin"==t.role?a("router-link",{staticClass:"btn btn-success d-flex flex-row justify-content-center p-0",attrs:{type:"button",to:"/station/update/"+t.profile.station_serial_id}},[a("img",{staticClass:"mx-1",attrs:{src:t.edit_i}}),a("span",{staticStyle:{"font-size":"0.8rem"}},[t._v("Edit")])]):t._e()],1)])],1):t._e(),a("v-control-scale",{attrs:{position:"topright",imperial:!1,metric:!0}})],1):t._e()],1)}),La=[],Pa={name:"TableMap",props:["loading_i","profile"],components:{"v-map":V["a"],"v-tilelayer":X["a"],"v-icondefault":tt["a"],"v-marker":et["a"],"v-popup":at["a"],"v-control-scale":st["a"],"v-icon":it["a"],"v-control":nt["a"]},data:function(){return{url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attribution:"",zoom:null,center:void 0,st_im:ot.a,st_i:ct.a,edit_i:ut.a,station:[]}},computed:{latLng:function(){var t=Number(this.profile.latitude),e=Number(this.profile.longitude);return isNaN(t)||isNaN(e)?null:[t,e]}},methods:{centerUpdated:function(t){this.center=t},zoomUpdated:function(t){this.zoom=t}},created:function(){this.extractUserInfo(),this.center=[this.profile.latitude,this.profile.longitude]}},Ta=Pa,$a=(a("a168"),a("6faa"),Object(l["a"])(Ta,Ra,La,!1,null,"47c7075e",null)),Ua=$a.exports,Ma={name:"TableData",components:{Dataset:Ze["a"],DatasetItem:We["a"],DatasetPager:Ve["a"],TableMap:Ua},props:["station","loading_i","profile"],data:function(){return{startDate:null,endDate:null,loading_data:!1,dataStation:null,dataStationQA:null,summary:null,summaryQA:null,cols:[],colsQA:[],nama:"",loading_upload:!1,loading_dw:!1,uploadVal:null,ava_width:null,hourStart:Array.from({length:1}).map((function(t,e){return e+0})),hourEnd:Array.from({length:1}).map((function(t,e){return e+23})),minuteStart:Array.from({length:1}).map((function(t,e){return e+0})),minuteEnd:Array.from({length:1}).map((function(t,e){return e+59}))}},computed:{sortBy:function(){return this.cols.reduce((function(t,e){return e.sort&&("asc"===e.sort?t.push(e.field):t.push("-"+e.field)),t}),[])}},watch:{dataStation:function(t){this.$emit("update-filtered-data",t)},dataStationQA:function(t){this.$emit("update-filtered-dataQA",t)}},methods:{loadData:function(){var t=arguments,e=this;return Object(A["a"])(regeneratorRuntime.mark((function a(){var s,i,n,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:null,i=t.length>1&&void 0!==t[1]?t[1]:null,e.loading_data=!0,a.next=5,f.a.get("".concat(e.$baseURL,"/pdam/station_data/").concat(e.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(e.token)},params:{from:s,until:i}}).catch((function(t){console.log(t)}));case 5:for(n=a.sent,e.dataStation=n.data.data[0].chart,r=e.dataStation[0].sensor_data,e.nama=n.data.data[0].station_name,e.summary=n.data.data[0],e.cols=[{name:"Tanggal"},{name:"Waktu"}],o=0;o<r.length;o++)e.cols.push({name:r[o].sensor_name});e.cols.push({name:"Status"}),200==n.status&&(e.loading_data=!1);case 14:case"end":return a.stop()}}),a)})))()},loadDataQA:function(){var t=arguments,e=this;return Object(A["a"])(regeneratorRuntime.mark((function a(){var s,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:null,i=t.length>1&&void 0!==t[1]?t[1]:null,e.loading_data=!0,a.next=5,f.a.get("".concat(e.$baseURL,"/pdam/QA/").concat(e.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(e.token)},params:{from:s,until:i}}).catch((function(t){console.log(t)}));case 5:n=a.sent,e.dataStationQA=n.data[0].data,e.summaryQA=n.data[0],e.nama=n.data.station_name,e.colsQA=[{name:"Tanggal"},{name:"Jumlah Data"},{name:"Persen Data"},{name:"Jumlah Gangguan"}],200==n.status&&(e.loading_data=!1);case 11:case"end":return a.stop()}}),a)})))()},search:function(){var t=this.startDate?oa()(this.startDate).format("YYYY-MM-DD HH:mm"):null,e=this.endDate?oa()(this.endDate).format("YYYY-MM-DD HH:mm"):null;"QA"!==this.role?this.loadData(t,e):this.loadDataQA(t,e)},formatDatePicker:function(t){if(!t)return null;var e=new Date(t),a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return"".concat(a,"-").concat(s,"-").concat(i,"T").concat(n,":").concat(r)},click:function(t,e){var a,s=this.cols[e];t.shiftKey||this.cols.forEach((function(t){t.field!==s.field&&(t.sort="")})),s.sort||(a="asc"),"desc"===s.sort&&(a=t.shiftKey?"":"asc"),"asc"===s.sort&&(a="desc"),s.sort=a},localStart:function(t){return t?new Date(t):null},localEnd:function(t){return t?new Date(t):null},formatDate:function(t){var e=new Date(t),a={day:"numeric",month:"short",year:"numeric"};return new Intl.DateTimeFormat("en-GB",a).format(e)},formatTime:function(t){var e=new Date(t),a={hour:"2-digit",minute:"2-digit",hour12:!1};return new Intl.DateTimeFormat("en-GB",a).format(e)},downloadAll:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n,r,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.startDate?oa()(t.startDate).format("YYYY-MM-DD HH:mm"):null,s=t.endDate?oa()(t.endDate).format("YYYY-MM-DD HH:mm"):null,t.loading_dw=!0,e.prev=3,e.next=6,f.a.get("".concat(t.$baseURL,"/pdam/station_data/download/").concat(t.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(t.token)},params:{from:a,until:s},responseType:"blob"});case 6:i=e.sent,200===i.status&&(n=i.headers["content-disposition"],r="download",n&&(o=n.match(/filename="(.+)"/),o&&o[1]&&(r=o[1])),r=null!=a&&null!=s?"Laporan Pembacaan Sensor ".concat(t.nama," ").concat(a," sd ").concat(s):"Laporan Pembacaan Sensor ".concat(t.nama),l=window.URL.createObjectURL(new Blob([i.data],{type:i.headers["content-type"]})),c=document.createElement("a"),c.href=l,c.setAttribute("download",r),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c),window.URL.revokeObjectURL(l)),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log(e.t0);case 13:return e.prev=13,t.loading_dw=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()},hourlyData:function(){var t=this;this.loading_dw=!0,"Admin"!=this.role&&"SuperAdmin"!=this.role||f.a.post("".concat(this.$baseURL,"/excel-summary/"),{station_id:this.$route.params.id,user_id:this.user_id,first_date:this.formatDatePicker(this.startDate),last_date:this.formatDatePicker(this.endDate)},{responseType:"arraybuffer",headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){var a=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=a,t.startDate&&t.endDate?s.setAttribute("download","Data per jam ".concat(t.nama," ").concat(t.formatDatePicker(t.startDate)," sd ").concat(t.formatDatePicker(t.endDate),".xlsx")):s.setAttribute("download","Data per jam ".concat(t.nama,".xlsx")),document.body.appendChild(s),s.click(),200==e.status&&(t.loading_dw=!1)})).catch((function(t){return console.log(t)}))},downloadDaily:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s,i,n,r,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.startDate?oa()(t.startDate).format("YYYY-MM-DD HH:mm"):null,s=t.endDate?oa()(t.endDate).format("YYYY-MM-DD HH:mm"):null,t.loading_dw=!0,e.prev=3,e.next=6,f.a.get("".concat(t.$baseURL,"/pdam/station_data/download/").concat(t.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(t.token)},params:{from:a,until:s,per_day:!0},responseType:"blob"});case 6:i=e.sent,200===i.status&&(n=i.headers["content-disposition"],r="download",n&&(o=n.match(/filename="(.+)"/),o&&o[1]&&(r=o[1])),r=null!=a&&null!=s?"Data per hari ".concat(t.nama," ").concat(a," sd ").concat(s):"Data per hari ".concat(t.nama),l=window.URL.createObjectURL(new Blob([i.data],{type:i.headers["content-type"]})),c=document.createElement("a"),c.href=l,c.setAttribute("download",r),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c),window.URL.revokeObjectURL(l)),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log(e.t0);case 13:return e.prev=13,t.loading_dw=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()},formatData:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(t.$baseURL,"/input-data-format/"),{headers:{Authorization:"Bearer ".concat(t.token)},responseType:"blob"});case 3:a=e.sent,s=new Blob([a.data],{type:a.data.type}),i=document.createElement("a"),i.href=URL.createObjectURL(s),i.setAttribute("download","Format Input Data Sensor.xlsx"),document.body.appendChild(i),i.click(),document.body.removeChild(i),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.error("Error downloading the file",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},formatThreshold:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(t.$baseURL,"/pdam/download_format_treshold/"),{headers:{Authorization:"Bearer ".concat(t.token)},responseType:"blob"});case 3:a=e.sent,s=new Blob([a.data],{type:a.data.type}),i=document.createElement("a"),i.href=URL.createObjectURL(s),i.setAttribute("download","Format Input Threshold.xlsx"),document.body.appendChild(i),i.click(),document.body.removeChild(i),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.error("Error downloading the file",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},onChangeFileUpload:function(t){this.csvFile=t.target.files[0]},sensorDataUpload:function(){var t=this,e=new FormData;e.append("station_id",this.$route.params.id),e.append("csvFile",this.csvFile),f.a.post("".concat(this.$baseURL,"/input-data-excel/"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(this.token)}}).then((function(e){204==e.status&&(t.csv_code="File uploaded successfully",location.reload())})).catch((function(e){console.log(e),t.csv_code="Error uploading the file. Please try again."}))},tresholdDataUpload:function(){var t=this,e=new FormData;e.append("station_serial_id",this.$route.params.id),e.append("file",this.csvFile),f.a.post("".concat(this.$baseURL,"/pdam/upload_treshold/").concat(this.$route.params.id,"/"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(this.token)}}).then((function(e){204==e.status&&(t.csv_code="File uploaded successfully",location.reload())})).catch((function(e){console.log(e),t.csv_code="Error uploading the file. Please try again."}))},getBalaiValue:function(){var t=this.station[0].note,e=t.match(/balai:\s*([^,\]]+)/);return e?e[1].trim():null},getUploadValue:function(){var t=this.station[0].note,e=t.match(/upload:\s*([^,\]]+)/);return e?e[1].trim():null}},created:function(){this.extractUserInfo(),"QA"!==this.role?this.loadData():this.loadDataQA(),this.ava_width=screen.availWidth}},Qa=Ma,Oa=(a("f78e"),a("995e"),Object(l["a"])(Qa,za,ja,!1,null,"1236740b",null)),Ba=Oa.exports,Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["QA"!==t.role?a("div",{staticClass:"card box-sm mt-2 comShadow mb-2",staticStyle:{"box-shadow":"10px","border-radius":"10px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 p-0 imgSZ"},[a("img",{staticClass:"img-fluid",staticStyle:{"object-fit":"cover","border-radius":"10px 0px 0px 0px","margin-left":"12px",width:"94%"},attrs:{src:""+t.station.image,alt:"station-img"}})]),a("div",{staticClass:"col-md-8 my-0"},[a("div",{staticClass:"d-flex align-items-center mx-2"},[a("div",{staticClass:"col-md-12 col-10"},[a("div",{staticStyle:{"font-weight":"500","font-size":"1.1rem"}},[t._v(" "+t._s(t.station.station_name)+" ")])])]),t.profile?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mx-0"},[a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Lokasi")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.profile.location))])]),"Distribusi"==t.profile.balai.balai_name?a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("In/Out Interzone")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.profile.interzone))])]):a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Nameplate Head")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.profile.nameplate_head))])])]),"Distribusi"==t.profile.balai.balai_name?a("div",{staticClass:"col-md-6 mx-0"},[a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v(" Max Flow")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.profile.max_flow)+" L/s")])]),a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Diameter Pipa")]),a("div",{staticClass:"info-value"},[t._v(" "+t._s(t.profile.diameter)+" mm ")])])]):a("div",{staticClass:"col-md-6 mx-0"},[a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Jumlah Operasi")]),a("div",{staticClass:"info-value"},[t._v(t._s(t.profile.jumlah_operasi))])]),a("div",{staticClass:"my-1 mx-2"},[a("div",{staticClass:"info-label"},[t._v("Kapasitas")]),a("div",{staticClass:"info-value"},[t._v(" "+t._s(t.profile.kapasitas)+" L/s ")])])])]):t._e()])]),a("div",[a("div",{staticClass:"mx-auto bg-white mb-2",staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"d-flex pt-2 px-2 justify-content-between"},[a("h6",[t._v(" Data "+t._s(t.station.chart[0].sensor_data[0].sensor_name)+" "),"SuperAdmin"==t.role?a("span",[t._v(" & "+t._s(t.station.chart[0].sensor_data[2].sensor_name)+" ("+t._s(t.station.chart[0].sensor_data[2].notation)+")")]):t._e()]),a("div",["SuperAdmin"==t.role?a("button",{staticClass:"btn btn-sm btn-success",staticStyle:{"font-size":"0.8rem"},attrs:{"data-bs-toggle":"modal","data-bs-target":"#approveTaksasi",type:"button"}},[a("i",{staticClass:"zmdi zmdi-check"}),t._v(" Approve ")]):t._e(),"SuperAdmin"==t.role?a("button",{staticClass:"btn btn-sm btn-primary mx-1",staticStyle:{"font-size":"0.8rem"},attrs:{"data-bs-toggle":"modal","data-bs-target":"#taksasiData",type:"button"}},[a("i",{staticClass:"zmdi zmdi-edit"}),t._v(" Taksasi ")]):t._e()])]),a("div",{staticClass:"modal fade",attrs:{id:"taksasiData","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"taksasiDataLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.tresholdDataUpload.apply(null,arguments)}}},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",[a("DatePicker",{attrs:{name:"from",type:"datetime",format:"DD/MM/YYYY HH:mm",placeholder:"Select first date","minute-step":5},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("label",{staticClass:"px-2",staticStyle:{"font-size":"0.8rem","font-weight":"normal"},attrs:{for:"to"}},[t._v("s.d")]),a("DatePicker",{attrs:{name:"to",type:"datetime",format:"DD/MM/YYYY HH:mm",placeholder:"Select last date","minute-step":5},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)]),t._m(1)])])])]),a("div",{staticClass:"modal fade",attrs:{id:"approveTaksasi","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"approveTaksasiLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.tresholdDataUpload.apply(null,arguments)}}},[t._m(2),a("div",{staticClass:"modal-body"},[a("div",[a("DatePicker",{attrs:{name:"from",type:"datetime",format:"DD/MM/YYYY HH:mm","minute-step":5,placeholder:"Select first date"},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),a("label",{staticClass:"px-2",staticStyle:{"font-size":"0.8rem","font-weight":"normal"},attrs:{for:"to"}},[t._v("s.d")]),a("DatePicker",{attrs:{"minute-step":5,name:"to",type:"datetime",format:"DD/MM/YYYY HH:mm",placeholder:"Select last date"},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)]),t._m(3)])])])]),"SuperAdmin"==t.role?a("LineChartFiltered",{tag:"Chart",staticClass:"p-0 pr-0 pt-1 pb-0",staticStyle:{height:"29vh"},attrs:{label:t.formatAllDates(t.label),"chart-data":[t.debitData,t.taksasiData],title1:t.station.chart[0].sensor_data[0].sensor_name+" ("+t.station.chart[0].sensor_data[0].notation+")",title2:t.station.chart[0].sensor_data[2].sensor_name+" ("+t.station.chart[0].sensor_data[2].notation+")"}}):a("LineChartFiltered",{tag:"Chart",staticClass:"p-0 pr-0 pt-1 pb-0",staticStyle:{height:"29vh"},attrs:{label:t.formatAllDates(t.label),"chart-data":[t.debitData,null],title1:t.station.chart[0].sensor_data[0].sensor_name+" ("+t.station.chart[0].sensor_data[0].notation+")",title2:null}})],1)]),a("div",[a("div",[a("div",{staticClass:"border mx-auto bg-white mb-2"},[a("div",[a("h6",{staticClass:"px-2 pt-2"},[t._v(" Data "+t._s(t.station.chart[0].sensor_data[1].sensor_name)+" ("+t._s(t.station.chart[0].sensor_data[1].notation)+") ")])]),a("TotalChartFiltered",{tag:"Chart",staticClass:"p-0 pr-0 pt-1 pb-0",staticStyle:{height:"29vh"},attrs:{label:t.formatAllDates(t.label),"chart-data":t.totalData,title:t.station.chart[0].sensor_data[0].sensor_name+" ("+t.station.chart[0].sensor_data[0].notation+")"}})],1)])])]):t._e(),"QA"==t.role&&t.stationQA?a("div",[a("div",{staticClass:"comShadow",staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-auto bg-white mb-2",staticStyle:{"border-radius":"15px"}},[t._m(4),a("TotalChartBarFiltered",{tag:"Chart",staticStyle:{height:"25vh"},attrs:{label:t.formatAllDatesQA(t.labelQA),"chart-data":t.sumDataQA,title:"Jumlah Data"}})],1)]),a("div",{staticClass:"comShadow",staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-auto bg-white mb-2",staticStyle:{"border-radius":"15px"}},[t._m(5),a("TotalChartBarFiltered",{tag:"Chart",staticStyle:{height:"25vh"},attrs:{label:t.formatAllDatesQA(t.labelQA),"chart-data":t.percentDataQA,title:"Persentase Data (%)"}})],1)]),a("div",{staticClass:"comShadow",staticStyle:{"border-radius":"15px"}},[a("div",{staticClass:"box-sm border mx-auto bg-white",staticStyle:{"border-radius":"15px"}},[t._m(6),a("TotalChartBarFiltered",{tag:"Chart",staticStyle:{height:"25vh"},attrs:{label:t.formatAllDatesQA(t.labelQA),"chart-data":t.mtcDataQA,title:"Jumlah Gangguan"}})],1)])]):t._e()])},Ia=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title text-primary",attrs:{id:"taksasiDataLabel"}},[t._v(" Taksasi Data ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit","data-bs-dismiss":"modal"}},[t._v(" Taksasi ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title text-success",attrs:{id:"approveTaksasiLabel"}},[t._v(" Approve Taksasi ")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"submit","data-bs-dismiss":"modal"}},[t._v(" Approve ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h6",{staticClass:"px-2 pt-2"},[t._v(" Jumlah Data ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h6",{staticClass:"px-2 pt-2"},[t._v(" Data Persentase (%) ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h6",{staticClass:"px-2"},[t._v(" Jumlah Gangguan ")])])}],Ea={name:"LineChartFiltered",extends:Qt["b"],props:{label:Array,chartData:Array,legend:Boolean,title1:String,title2:String,type1:Array},data:function(){return{gradients:[null,null],mixtypes:["",""],gradient:null}},mounted:function(){this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(104, 192, 255, 1)"),this.gradient.addColorStop(.5,"rgba(104, 192, 255, 0)"),this.gradient.addColorStop(.6,"rgba(59, 130, 246, 0.08)"),this.gradient.addColorStop(1,"rgba(59, 130, 246, 0.08)"),this.configureGradients(),this.configureMixtypes();var t=[{label:this.title1,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(99, 102, 241,1)",pointBackgroundColor:"rgba(35,137,218, 0.9)",borderWidth:2,pointBorderColor:"white",backgroundColor:this.gradient,data:this.chartData[0],pointRadius:0,lineTension:0},{label:this.title2,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(255,0,0,1)",pointBackgroundColor:"rgba(255,0,0,1)",borderWidth:2,pointBorderColor:"rgba(255,0,0,1)",backgroundColor:this.gradients[1],data:this.chartData[1],pointRadius:2,lineTension:0}];this.renderChart({labels:this.label,datasets:t},{responsive:!0,maintainAspectRatio:!1,spanGaps:!0,legend:{display:!1},scales:{yAxes:[{id:"A",position:"left",ticks:{beginAtZero:!0},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{color:!1}}]}})},methods:{updateChart:function(){this.$data._chart.destroy();var t=[{label:this.title1,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(99, 102, 241,1)",pointBackgroundColor:"rgba(35,137,218, 0.9)",borderWidth:2,pointBorderColor:"white",backgroundColor:this.gradient,data:this.chartData[0],pointRadius:0,lineTension:0},{label:this.title2,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(255,0,0,1)",pointBackgroundColor:"rgba(255,0,0,1)",borderWidth:2,pointBorderColor:"rgba(255,0,0,1)",backgroundColor:this.gradients[1],data:this.chartData[1],pointRadius:2,lineTension:0}];this.renderChart({labels:this.label,datasets:t},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{id:"A",position:"left",ticks:{beginAtZero:!0},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{color:!1}}]}})},configureGradients:function(){for(var t=["0,128,128","35,137,218","27,105,167"],e=0;e<this.gradients.length;e++)this.gradients[e]=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradients[e].addColorStop(1,"rgba(".concat(t[e],", 0.08)"))},configureMixtypes:function(){for(var t=[this.type1,this.type2,this.type3],e=0;e<this.mixtypes.length;e++)"LineChart"===t[e]?this.mixtypes[e]="line":"BarChart"===t[e]&&(this.mixtypes[e]="bar")}},watch:{label:"updateChart",chartData:"updateChart"}},Fa=Ea,Ha=Object(l["a"])(Fa,ie,ne,!1,null,null,null),Ya=Ha.exports,Ga={name:"TotalChartFiltered",extends:Qt["b"],props:{label:Array,chartData:Array,legend:Boolean,title1:String,type1:Array},data:function(){return{gradients:[null],mixtypes:[""],gradient:null}},mounted:function(){this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(253, 188, 92, 0.9)"),this.gradient.addColorStop(.5,"rgba(253, 188, 92, 0)"),this.gradient.addColorStop(.6,"rgba(255, 165, 0, 0.08)"),this.gradient.addColorStop(1,"rgba(255, 165, 0, 0.08)"),this.configureGradients(),this.configureMixtypes();var t=[{label:!1,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(253, 188, 92,1)",pointBackgroundColor:"rgba(35,137,218, 0.9)",borderWidth:2,pointBorderColor:"white",backgroundColor:this.gradient,data:this.chartData,pointRadius:0,lineTension:0}];this.renderChart({labels:this.label,datasets:t},{responsive:!0,maintainAspectRatio:!1,spanGaps:!0,legend:{display:!1},scales:{yAxes:[{id:"A",position:"left",ticks:{beginAtZero:!1},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{color:!1}}]}})},methods:{updateChart:function(){this.$data._chart.destroy();var t=[{label:this.title1,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(253, 188, 92,1)",pointBackgroundColor:"rgba(35,137,218, 0.9)",borderWidth:2,pointBorderColor:"white",backgroundColor:this.gradient,data:this.chartData,pointRadius:0,lineTension:0}];this.renderChart({labels:this.label,datasets:t},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{id:"A",position:"left",ticks:{beginAtZero:!1},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{color:!1}}]}})},configureGradients:function(){for(var t=["0,128,128","35,137,218","27,105,167"],e=0;e<this.gradients.length;e++)this.gradients[e]=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradients[e].addColorStop(1,"rgba(".concat(t[e],", 0.08)"))},configureMixtypes:function(){for(var t=[this.type1,this.type2,this.type3],e=0;e<this.mixtypes.length;e++)"LineChart"===t[e]?this.mixtypes[e]="line":"BarChart"===t[e]&&(this.mixtypes[e]="bar")}},watch:{label:"updateChart",chartData:"updateChart"}},Ja=Ga,qa=Object(l["a"])(Ja,re,oe,!1,null,null,null),Za=qa.exports,Wa={name:"TotalChartBarFiltered",extends:Qt["a"],props:{label:Array,chartData:Array,legend:Boolean,title1:String,type1:Array},data:function(){return{gradients:[null],mixtypes:[""]}},mounted:function(){this.configureGradients(),this.configureMixtypes();var t=[{label:!1,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(253, 188, 92,1)",pointBackgroundColor:"rgba(35,137,218, 0.9)",borderWidth:2,pointBorderColor:"white",backgroundColor:"rgba(253, 188, 92,0.7)",data:this.chartData,pointRadius:0,lineTension:0}];this.renderChart({labels:this.label,datasets:t},{responsive:!0,maintainAspectRatio:!1,spanGaps:!0,legend:{display:!1},scales:{yAxes:[{id:"A",position:"left",ticks:{beginAtZero:!0},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{color:!1}}]}})},methods:{updateChart:function(){this.$data._chart.destroy();var t=[{label:this.title1,type:this.mixtype1,yAxisID:"A",borderColor:"rgba(253, 188, 92,1)",pointBackgroundColor:"rgba(35,137,218, 0.9)",borderWidth:2,pointBorderColor:"white",backgroundColor:"rgba(253, 188, 92,0.7)",data:this.chartData,pointRadius:0,lineTension:0}];this.renderChart({labels:this.label,datasets:t},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{id:"A",position:"left",ticks:{beginAtZero:!1},gridLines:{color:"rgba(151,151,151,0.2)"}}],xAxes:[{ticks:{display:!0,callback:function(t,e,a){return 0===e||e===a.length-1?t:""},autoSkip:!1,maxRotation:0,minRotation:0,fontColor:"#6c757d"},gridLines:{color:!1}}]}})},configureGradients:function(){for(var t=["0,128,128","35,137,218","27,105,167"],e=0;e<this.gradients.length;e++)this.gradients[e]=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradients[e].addColorStop(1,"rgba(".concat(t[e],", 0.08)"))},configureMixtypes:function(){for(var t=[this.type1,this.type2,this.type3],e=0;e<this.mixtypes.length;e++)"LineChart"===t[e]?this.mixtypes[e]="line":"BarChart"===t[e]&&(this.mixtypes[e]="bar")}},watch:{label:"updateChart",chartData:"updateChart"}},Ka=Wa,Va=Object(l["a"])(Ka,le,ce,!1,null,null,null),Xa=Va.exports,ts={name:"ChartData",props:["debitData","totalData","taksasiData","label","station","ava_width","stationQA","percentDataQA","sumDataQA","labelQA","mtcDataQA","profile"],components:{TotalChartBarFiltered:Xa,LineChartFiltered:Ya,TotalChartFiltered:Za},data:function(){return{total_s:null,taksasi:!1,taksasiType:[!1,!0],startDate:null,endDate:null}},methods:{formatDate:function(t){try{var e=new Date(t);if(isNaN(e))throw new Error("Invalid date");var a={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Jakarta"};return new Intl.DateTimeFormat("en-GB",a).format(e)}catch(s){return console.error("Error parsing date:",s),t}},formatAllDates:function(t){return t.map(this.formatDate)},formatDateQA:function(t){try{var e=new Date(t);if(isNaN(e))throw new Error("Invalid date");var a={day:"2-digit",month:"short",year:"numeric",timeZone:"Asia/Jakarta"};return new Intl.DateTimeFormat("en-GB",a).format(e)}catch(s){return console.error("Error parsing date:",s),t}},formatAllDatesQA:function(t){return t.map(this.formatDateQA)}},created:function(){this.extractUserInfo()}},es=ts,as=(a("39a4"),Object(l["a"])(es,Na,Ia,!1,null,"011fb13e",null)),ss=as.exports,is={name:"DataStation",components:{Header:J,Footer:Aa,TableData:Ba,ChartData:ss},data:function(){return{station:[],stationQA:[],filteredData:[],filteredDataQA:[],loading_i:!0,status:[],ava_width:null,msg:"Fetching data, please wait...",e_code:null,user_balai:null,station_balai:null,profile:null}},computed:{debitData:function(){return this.filteredData.map((function(t){return t.sensor_data[0].value})).reverse()},totalData:function(){return this.filteredData.map((function(t){return t.sensor_data[1].value})).reverse()},taksasiData:function(){return this.filteredData.map((function(t){return t.sensor_data[2].value})).reverse()},label:function(){return this.filteredData.map((function(t){return t.time})).reverse()},percentDataQA:function(){return this.filteredDataQA.map((function(t){return t.percentage})).reverse()},sumDataQA:function(){return this.filteredDataQA.map((function(t){return t.sum})).reverse()},mtcDataQA:function(){return this.filteredDataQA.map((function(t){return t.maintenance})).reverse()},labelQA:function(){return this.filteredDataQA.map((function(t){return t.date})).reverse()}},methods:{updateFilteredData:function(t){this.filteredData=t},updateFilteredDataQA:function(t){this.filteredDataQA=t},loadData:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t.$baseURL,"/pdam/station_data/").concat(t.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.station=e.data.data[0],200==e.status&&(t.loading_i=!1)})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?"No sensor data found."==e.response.data.message?t.station=[]:console.error("Error msg: ",e.response.data.message):t.logoutUser()}));case 2:case"end":return e.stop()}}),e)})))()},loadDataQA:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t.$baseURL,"/pdam/QA/").concat(t.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.stationQA=e.data[0].data,200==e.status&&(t.loading_i=!1)})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 2:case"end":return e.stop()}}),e)})))()},loadProfile:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t.$baseURL,"/pdam/station/").concat(t.$route.params.id,"/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.profile=e.data.data,200==e.status&&(t.loading_i=!1)})).catch((function(t){this.e_code=t.response.status,this.msg="An error occurred on the server. Please try again later."}));case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.ava_width=screen.availWidth},created:function(){this.extractUserInfo(),this.loadProfile(),"QA"!==this.role?this.loadData():this.loadDataQA()}},ns=is,rs=(a("d463"),Object(l["a"])(ns,ya,Ca,!1,null,null,null)),os=rs.exports,ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"mobile-width d-flex justify-content-between align-items-center"},[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.$app_title)+" ")])]),a("div",{staticClass:"mobile-width"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("div",{staticClass:"subTitle"},[t._v("Daftar User")]),a("div",["SuperAdmin"===t.role||"Admin"===t.role?a("router-link",{staticClass:"btn btn-primary float-right my-2",staticStyle:{padding:"5px 10px"},attrs:{to:{name:"AddUser"},type:"button"}},[t._v("Tambah Data")]):t._e()],1)]),a("dataset",{attrs:{"ds-data":t.users,"ds-sortby":t.sortBy,"ds-search-in":["user","created_by"]},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.ds;return[a("div",{attrs:{"data-page-count":s.dsPagecount}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-responsive text-nowrap text-center table-borderless bg-white"},[a("thead",{staticClass:"table-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._l(t.cols,(function(e,s){return a("th",{key:e.field,staticClass:"thLight",class:["sort",e.sort],on:{click:function(e){return t.click(e,s)}}},[t._v(" "+t._s(e.name)+" "),a("i",{staticClass:"gg-select float-right"})])}))],2)]),t.loading_i?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"1.5rem"}})]):t._e(),a("dataset-item",{attrs:{tag:"tbody"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row,i=e.rowIndex;return[a("tr",[a("td",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),a("td",[t._v(t._s(s.username))]),a("td",[t._v(t._s(s.role_name))]),null!==s.balai&&"Admin"==s.role_name?a("td",[t._v(t._s(s.balai.balai_name))]):a("td"),a("td",[t._v(t._s(s.created_by))]),a("td",[a("span",[a("button",{staticClass:"btn btn-danger btn-sm mx-1",attrs:{type:"button"},on:{click:function(e){return t.deleteData(s.id)}}},[t._v(" Delete ")])])])])]}}],null,!0)})],1)])])]),a("div",{staticClass:"d-flex flex-md-row flex-row justify-content-end align-items-center"},[a("button",{staticClass:"btn btn-sm btn-light mx-1",attrs:{disabled:!t.prevPage},on:{click:t.loadPrevPage}},[t._v("Previous")]),t._l(t.totalPages,(function(e){return a("span",{key:e},[a("button",{class:["btn btn-sm",e===t.currentPage?"btn-primary":"btn-light"],on:{click:function(a){return t.loadData(e)}}},[t._v(" "+t._s(e)+" ")])])})),a("button",{staticClass:"btn btn-sm btn-light mx-1",attrs:{disabled:!t.nextPage},on:{click:t.loadNextPage}},[t._v("Next")])],2)]}}])})],1)],1)},cs=[],ds={name:"User",components:{Header:J,Dataset:Ze["a"],DatasetItem:We["a"]},data:function(){return{balais:[],loading_i:!0,provinsis:[],userList:[],role:"",users:[],cols:[{name:"Username",field:"user"}],colSuper:[{name:"Role"},{name:"Produksi"}],colCreated:[{name:"Created by"},{name:"Delete"}],currentPage:1,totalPages:0,nextPage:null,prevPage:null,maxPerPage:10}},computed:{sortBy:function(){return this.cols.reduce((function(t,e){return e.sort&&("asc"===e.sort?t.push(e.field):t.push("-"+e.field)),t}),[])}},methods:{toggleNav:function(){this.$parent.$emit("toggleNav")},click:function(t,e){var a,s=this.cols[e];t.shiftKey||this.cols.forEach((function(t){t.field!==s.field&&(t.sort="")})),s.sort||(a="asc"),"desc"===s.sort&&(a=t.shiftKey?"":"asc"),"asc"===s.sort&&(a="desc"),s.sort=a},loadHeader:function(){var t,e;"SuperAdmin"==this.role&&(e=this.cols).push.apply(e,Object(Rt["a"])(this.colSuper));(t=this.cols).push.apply(t,Object(Rt["a"])(this.colCreated))},loadData:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading_i=!0,a.next=3,f.a.get("".concat(e.$baseURL,"/user/?page=").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(a){e.users=a.data.results,e.nextPage=a.data.next,e.prevPage=a.data.previous,e.currentPage=t,e.totalPages=Math.ceil(a.data.count/a.data.max_per_page),200==a.status&&(e.loading_i=!1)}));case 3:case"end":return a.stop()}}),a)})))()},loadNextPage:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.nextPage){e.next=4;break}return a=t.currentPage+1,e.next=4,t.loadData(a);case 4:case"end":return e.stop()}}),e)})))()},loadPrevPage:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.prevPage){e.next=4;break}return a=t.currentPage-1,e.next=4,t.loadData(a);case 4:case"end":return e.stop()}}),e)})))()},delete:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.delete("".concat(e.$baseURL,"/user/").concat(t),{headers:{Authorization:"Bearer ".concat(e.token)}});case 3:if(s=a.sent,204!=s.status){a.next=7;break}return a.next=7,e.loadData(e.currentPage);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.error("Error deleting data:",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},deleteData:function(t){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&e.delete(t)}))}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.extractUserInfo(),t.loadHeader(),e.next=4,t.loadData(t.currentPage);case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t.$baseURL,"/user/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.userList=e.data.results})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 2:case"end":return e.stop()}}),e)})))()}},us=ds,ms=(a("de3b"),a("1719"),Object(l["a"])(us,ls,cs,!1,null,"1d3a1f3e",null)),ps=ms.exports,fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"mobile-width"},[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.$app_title)+" ")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("div",{staticClass:"row my-2"},[a("div",{staticClass:"col-md subTitle"},[t._v("Tambah User Baru")]),a("div",{staticClass:"col-md d-flex justify-content-end"},[a("router-link",{staticClass:"btn btn-light border mx-4 bg-white",attrs:{to:{name:"User"},type:"button"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Simpan")])],1)]),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Data User")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md pb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputNama"}},[t._v("Username*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData,expression:"userData"}],staticClass:"form-control",attrs:{type:"text",id:"inputNama",placeholder:"Nama",required:""},domProps:{value:t.userData},on:{input:function(e){e.target.composing||(t.userData=e.target.value)}}})])]),a("div",{staticClass:"col-md pb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"inputPass"}},[t._v("Password*")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:"",attr:"",id:"inputPass"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])])])])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[t._v("Data Produksi")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"col-md pb-3"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Role*")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.roleUser,expression:"roleUser"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.roleUser=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Pilih Role")]),t._l(t.roles,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.role)+" ")])}))],2)]),2==t.roleUser?a("div",{staticClass:"col-md pb-3"},[a("label",{attrs:{for:"floatingInput"}},[t._v("Produksi*")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.produksi,expression:"produksi"}],staticClass:"form-select",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.produksi=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Pilih Produksi")]),t._l(t.produksis,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.balai_name)+" ")])}))],2)]):t._e()])])])])])])],1)},hs=[],vs={name:"AddUser",components:{Header:J},data:function(){return{produksis:[],roles:[],userData:"",password:"",roleUser:"",produksi:1,email:"q9@test.test",first_name:"x",last_name:"x"}},methods:{submitData:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(t.$baseURL,"/user/"),{username:t.userData,password:t.password,balai:t.produksi,email:t.email,first_name:t.first_name,last_name:t.last_name,role:t.roleUser},{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){201==e.status&&t.$router.push({name:"User"})}));case 2:case"end":return e.stop()}}),e)})))()},submit:function(){this.$swal({position:"top-end",width:"300px",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),this.submitData()}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.extractUserInfo(),e.next=3,f.a.get("".concat(t.$baseURL,"/balai/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.produksis=e.data.data})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 3:return e.next=5,f.a.get("".concat(t.$baseURL,"/role/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.roles=e.data.data})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},gs=vs,bs=(a("527b"),Object(l["a"])(gs,fs,hs,!1,null,"16c76c73",null)),_s=bs.exports,ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("div",{staticClass:"mobile-width d-flex justify-content-between align-items-center"},[a("div",{staticClass:"bwsTitle mobile-top"},[t._v(" "+t._s(t.$app_title)+" ")])]),a("div",{staticClass:"mobile-width"},[t._m(0),a("dataset",{attrs:{"ds-data":t.stations,"ds-sortby":t.sortBy,"ds-search-in":["station_name","location"]},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.ds;return[a("div",{attrs:{"data-page-count":s.dsPagecount}},[a("dataset-search",{attrs:{"ds-search-placeholder":"Search..."}})],1),a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-responsive text-nowrap text-center table-borderless bg-white"},[a("thead",{staticClass:"table-light"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._l(t.cols,(function(e,s){return a("th",{key:e.field,staticClass:"thLight",class:["sort",e.sort],on:{click:function(e){return t.click(e,s)}}},[t._v(" "+t._s(e.name)+" "),a("i",{staticClass:"gg-select float-right"})])}))],2)]),t.loading_i?a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("i",{staticClass:"zmdi zmdi-spinner zmdi-hc-spin",staticStyle:{"font-size":"1.5rem"}})]):t._e(),a("dataset-item",{attrs:{tag:"tbody"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row,i=e.rowIndex;return[a("tr",[a("td",{attrs:{scope:"row"}},[t._v(t._s(i+1))]),a("td",[t._v(t._s(s.station_name))]),a("td",[t._v(t._s(s.location))]),"SuperAdmin"==t.role?a("td",[t._v(t._s(s.balai.balai_name))]):t._e(),a("td",[t._v(t._s(s.latitude))]),a("td",[t._v(t._s(s.longitude))])])]}}],null,!0)})],1)])])]),a("div",{staticClass:"d-flex flex-md-row flex-column justify-content-between align-items-center"},[a("dataset-info",{staticClass:"mb-2 mb-md-0"}),a("dataset-pager")],1)]}}])})],1)],1)},Cs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[a("div",{staticClass:"subTitle"},[t._v("Notification")])])}],xs={name:"Notification",components:{Header:J,Dataset:Ze["a"],DatasetItem:We["a"],DatasetInfo:Ke["a"],DatasetPager:Ve["a"],DatasetSearch:Xe["a"]},data:function(){return{stations:[],loading_i:!0,balais:[],role:null,station:0,balai:null,nama_pos:"",colSuper:[{name:"Nama Stasiun"},{name:"Lokasi"},{name:"Produksi"},{name:"Latitude"},{name:"Longitude"}],userStationList:[]}},computed:{sortBy:function(){return this.cols.reduce((function(t,e){return e.sort&&("asc"===e.sort?t.push(e.field):t.push("-"+e.field)),t}),[])}},methods:Object(qe["a"])(Object(qe["a"])({},Object(m["b"])(["updateUserStationList"])),{},{click:function(t,e){var a,s=this.cols[e];t.shiftKey||this.cols.forEach((function(t){t.field!==s.field&&(t.sort="")})),s.sort||(a="asc"),"desc"===s.sort&&(a=t.shiftKey?"":"asc"),"asc"===s.sort&&(a="desc"),s.sort=a},loadData:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"SuperAdmin"==t.role?t.cols=t.colSuper:console.log(t.cols),e.next=3,f.a.get("".concat(t.$baseURL,"/pdam/station/"),{headers:{Authorization:"Bearer ".concat(t.token)}}).then((function(e){t.stations=e.data.data,200==e.status&&(t.loading_i=!1)})).catch((function(e){!e.response||401!==e.response.status&&403!==e.response.status?console.error("Error msg: ",e):t.logoutUser()}));case 3:case"end":return e.stop()}}),e)})))()}}),created:function(){this.extractUserInfo(),this.loadData()}},ws=xs,Ss=(a("cfb6"),Object(l["a"])(ws,ys,Cs,!1,null,"729a717a",null)),Ds=Ss.exports;s["a"].use(u["a"]);var ks=function(t,e,a){S.getters.isAuthenticated?a("/"):a()},As=function(t,e,a){S.getters.isAuthenticated?a():a("/login")},zs=function(t){return function(e,a,s){var i=S.getters.userRole||localStorage.getItem("userRole");S.getters.isAuthenticated&&i===t?s():s("/")}},js=[];js.push({path:"/",component:_e,name:"Home",beforeEnter:As}),js.push({path:"/login",component:Le,name:"Login",beforeEnter:ks},{path:"/logout",component:Ye,name:"Logout",beforeEnter:As},{path:"/station",component:sa,name:"Station",beforeEnter:As},{path:"/station/add",component:pa,name:"AddStation",beforeEnter:zs("SuperAdmin")},{path:"/station/update/:id",name:"UpdateStation",component:_a,beforeEnter:zs("SuperAdmin")},{path:"/station/data/:id",name:"DataStation",component:os,beforeEnter:As},{path:"/user",component:ps,name:"User",beforeEnter:zs("SuperAdmin")},{path:"/user/add",component:_s,name:"AddUser",beforeEnter:zs("SuperAdmin")},{path:"/notification",component:Ds,name:"Notification",beforeEnter:zs("SuperAdmin")},{path:"/:pathMatch(.*)*",component:Be});var Rs=new u["a"]({mode:"history",base:"/",routes:js}),Ls=Rs,Ps=(a("f9e3"),a("f9d5")),Ts=a.n(Ps),$s=(a("4413"),a("6cc5"),a("e11e")),Us=(a("f907"),a("ec45"));a("411c"),a("4989");s["a"].component("DatePicker",Us["a"]),s["a"].config.productionTip=!1,s["a"].prototype.$imageURL="https://pdamsby.blitztechnology.tech/",s["a"].prototype.$baseURL="http://213.210.21.73:8001/api",s["a"].prototype.$app_title=document.title,s["a"].mixin({methods:{extractUserInfo:function(){var t=localStorage.getItem("user-info")||"{}";this.user=JSON.parse(t),this.balai=this.user.balai.id,this.detBalai=this.user.balai.balai_name,this.username=this.user.username,this.role=this.user.role.role_name,this.token=this.user.tokens.access},logoutUser:function(){localStorage.clear(),localStorage.removeItem("access"),localStorage.removeItem("user-info"),this.$router.push({name:"Home"}),window.location.reload(),window.location.reload()}}}),s["a"].config.productionTip=!1,s["a"].prototype.moment=oa.a,s["a"].use(Ts.a),delete $s["Icon"].Default.prototype._getIconUrl,$s["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),new s["a"]({router:Ls,store:S,render:function(t){return t(d)}}).$mount("#app")},"573d":function(t,e,a){"use strict";a("ed6d")},"62a4":function(t,e,a){"use strict";a("6ec7")},"673b":function(t,e,a){"use strict";a("1510")},"6aed":function(t,e,a){t.exports=a.p+"img/user.0043894f.svg"},"6ec7":function(t,e,a){},"6edf":function(t,e,a){"use strict";var s=a("e468"),i=a.n(s);a.d(e,"default",(function(){return i.a}))},"6f56":function(t,e,a){"use strict";a("393f")},"6faa":function(t,e,a){"use strict";a("b82f")},7229:function(t,e,a){},7280:function(t,e,a){},7819:function(t,e,a){t.exports=a.p+"img/bweather-bg.8c222960.jpg"},8265:function(t,e,a){t.exports=a.p+"img/logo-pdam.87142113.png"},"85ec":function(t,e,a){},8884:function(t,e,a){},"8e71":function(t,e,a){t.exports=a.p+"img/404.d04193f3.svg"},"8ed3":function(t,e,a){t.exports=a.p+"img/edit.91d3ffb4.svg"},9444:function(t,e,a){"use strict";a("2d93")},9536:function(t,e,a){"use strict";a("0d92")},9619:function(t,e,a){t.exports=a.p+"img/lock.228c415b.svg"},"969e":function(t,e,a){t.exports=a.p+"img/pie-chart.8ec40c60.svg"},"995e":function(t,e,a){"use strict";a("c4bc")},"9f10":function(t,e,a){t.exports=a.p+"img/s3.d70f65ca.svg"},a168:function(t,e,a){"use strict";a("e9e7")},a190:function(t,e,a){},a239:function(t,e,a){t.exports=a.p+"img/s2.5e10294b.svg"},a4b3:function(t,e,a){"use strict";a("dd75")},a5f6:function(t,e,a){t.exports=a.p+"img/mtc.3fcbac23.svg"},a722:function(t,e,a){t.exports=a.p+"img/log-in.a77ac0c6.svg"},a83b:function(t,e,a){"use strict";a("e45b")},b290:function(t,e,a){"use strict";a("0bf0")},b447:function(t,e,a){t.exports=a.p+"img/ok.a6b34453.svg"},b5ee:function(t,e,a){},b82f:function(t,e,a){},b8cd:function(t,e,a){"use strict";a("e301")},c3d7:function(t,e,a){},c4bc:function(t,e,a){},c800:function(t,e,a){},c88b:function(t,e,a){},ca50:function(t,e,a){"use strict";a("d1f4")},cafc:function(t,e,a){},cbf5:function(t,e,a){t.exports=a.p+"img/dashboard.41361a8d.svg"},cc7b:function(t,e,a){t.exports=a.p+"img/marr.fa3d6619.svg"},cfb6:function(t,e,a){"use strict";a("8884")},d075:function(t,e,a){"use strict";a("45a7")},d1f4:function(t,e,a){},d29d:function(t,e,a){},d2e2:function(t,e,a){"use strict";a("d7b3")},d463:function(t,e,a){"use strict";a("eebf")},d7b3:function(t,e,a){},dd75:function(t,e,a){},de3b:function(t,e,a){"use strict";a("b5ee")},e301:function(t,e,a){},e45b:function(t,e,a){},e468:function(t,e,a){t.exports={wrap:"MarqueeText_wrap_2urIu",content:"MarqueeText_content_1yUP0",text:"MarqueeText_text_3doey",animation:"MarqueeText_animation_1mO9k",paused:"MarqueeText_paused_1RyIy"}},e62f:function(t,e,a){"use strict";a("c88b")},e632:function(t,e,a){"use strict";a("0359")},e9e7:function(t,e,a){},e9f5:function(t,e,a){t.exports=a.p+"img/surabaya-bg2.53a56b0a.png"},eb9f:function(t,e,a){"use strict";a("fc82")},ed34:function(t,e,a){},ed6d:function(t,e,a){},eebf:function(t,e,a){},f0ec:function(t,e,a){t.exports=a.p+"img/notification.cbd20951.svg"},f44c:function(t,e,a){"use strict";a("d29d")},f78e:function(t,e,a){"use strict";a("7280")},fc82:function(t,e,a){},fe62:function(t,e,a){t.exports=a.p+"img/s1.13cd2296.svg"},ff27:function(t,e,a){"use strict";a("a190")}});
//# sourceMappingURL=app.469f0daf.js.map